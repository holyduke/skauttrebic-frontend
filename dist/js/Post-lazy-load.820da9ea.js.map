{"version":3,"sources":["webpack:///./src/components/Aktuality/FilesToDownload.vue?1971","webpack:///src/components/Aktuality/FilesToDownload.vue","webpack:///./src/components/Aktuality/FilesToDownload.vue?25d8","webpack:///./src/components/Aktuality/FilesToDownload.vue","webpack:///./src/views/Post.vue?2a21","webpack:///src/views/Post.vue","webpack:///./src/views/Post.vue?23b4","webpack:///./src/views/Post.vue?4ae8","webpack:///./src/constants.js","webpack:///./src/views/Post.vue?bf14","webpack:///./src/components/Confirm.vue?1d00","webpack:///src/components/Confirm.vue","webpack:///./src/components/Confirm.vue?58b2","webpack:///./src/components/Confirm.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","item","index2","key","_s","name","printFileSize","size","attrs","url","on","$event","deleteFile","_id","_e","ref","staticRenderFns","data","methods","s","Math","ceil","unit","console","log","$refs","confirm","open","props","components","Confirm","component","VBtn","VDivider","VIcon","class","$vuetify","breakpoint","mdAndDown","lg","xl","aktualita","nadpis","getCETDate","autor","jmeno","directives","rawName","value","expression","prezdivka","oddil","index","colors","nazev","obrazek","domProps","text","priloha","params","loading","backendAPI","getMinutes","convertTimeToCET","createdAtCET","Date","createdAt","computed","isContributor","$store","getters","created","$route","FilesToDownload","VAvatar","VChip","VContainer","VFlex","VImg","VLayout","VProgressCircular","oddilsUrlNames","oddilDiacriticsObj","skauti","skautky","vlcata","svetlusky","roveri","oldskauti","vlčata","světlušky","roveři","style","zIndex","options","width","type","indexOf","_k","keyCode","cancel","model","callback","$$v","dialog","color","title","message","nativeOn","agree","Object","assign","Promise","resolve","VCard","VCardActions","VCardText","VDialog","VSpacer","VToolbar","VToolbarTitle"],"mappings":"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","file":"js/Post-lazy-load.820da9ea.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-divider',{staticClass:\"mb-5\"}),_c('strong',[_vm._v(\"Soubory ke stažení:\")]),_vm._l((_vm.priloha),function(item,index2){return _c('div',{key:index2,staticClass:\"downloadItem py-1 my-3\"},[_vm._v(\" \"+_vm._s(item.name)+\" \"),_c('span',{staticClass:\"size\"},[_vm._v(\"— \"+_vm._s(_vm.printFileSize(item.size)))]),_c('v-btn',{staticClass:\"ml-3\",attrs:{\"dark\":\"\",\"color\":\"#f6a800\",\"small\":\"\",\"href\":item.url}},[_c('v-icon',[_vm._v(\"mdi-download\")]),_vm._v(\"Stáhnout \")],1),(_vm.showDeleteBtn)?_c('v-btn',{staticClass:\"ml-3\",attrs:{\"dark\":\"\",\"color\":\"error\",\"small\":\"\"},on:{\"click\":function($event){return _vm.deleteFile(item._id)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")]),_vm._v(\"Smazat \")],1):_vm._e()],1)}),_c('Confirm',{ref:\"confirm\"})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-divider class=\"mb-5\"></v-divider>\r\n    <strong>Soubory ke stažení:</strong>\r\n    <div class=\"downloadItem py-1 my-3\" v-for=\"(item, index2) in priloha\" :key=\"index2\">\r\n      {{item.name}}\r\n      <span class=\"size\">— {{printFileSize(item.size)}}</span>\r\n      <v-btn dark color=\"#f6a800\" class=\"ml-3\" small :href=\"item.url\">\r\n        <v-icon>mdi-download</v-icon>Stáhnout\r\n      </v-btn>\r\n      <v-btn\r\n        v-if=\"showDeleteBtn\"\r\n        dark\r\n        color=\"error\"\r\n        class=\"ml-3\"\r\n        small\r\n        @click=\"deleteFile(item._id)\"\r\n      >\r\n        <v-icon>mdi-delete</v-icon>Smazat\r\n      </v-btn>\r\n    </div>\r\n    <Confirm ref=\"confirm\"></Confirm>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport Confirm from \"@/components/Confirm\";\r\n\r\n\r\nexport default {\r\n  name: \"FilesToDownload\",\r\n\r\n  data() {\r\n    return {\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    printFileSize: function (s) {\r\n      if (s) {\r\n        if (s<1000) { //data from Strapi are in bytes while from local are in kB\r\n          s*=1000;\r\n        }\r\n        let unit = s < 1000000 ? \"kB\" : \"MB\";\r\n        s = s > 1000000 ? Math.ceil(s / 1000000) : Math.ceil(s/1000);\r\n        return s + \" \" + unit;\r\n      } else return \"\";\r\n    },\r\n\r\n    deleteFile(_id) {\r\n      console.log(\"trying to delete file\",_id);\r\n      this.$refs.confirm.open('Odstranit', 'Opravdu chcete tento soubor smazat? Soubor bude trvale vymazán.', { color: 'error' }).then((confirm) => {\r\n        if (confirm)  {\r\n          axios\r\n            .delete(\"/upload/files/\" + _id)\r\n            .then((response) => {\r\n              console.log(\"the file was deleted successfully\", response);\r\n              const index = this.priloha.findIndex((it) => {\r\n                return it._id == _id;\r\n              });\r\n              this.priloha.splice(index, 1);\r\n            })\r\n            .catch(function (e) {\r\n              console.log(\"FAIL! File was not deleted...\");\r\n              console.log(e);\r\n            });\r\n        }\r\n      })\r\n    },\r\n  },\r\n\r\n  props: ['priloha', 'showDeleteBtn'],\r\n\r\n  components: {\r\n    Confirm,\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesToDownload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FilesToDownload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./FilesToDownload.vue?vue&type=template&id=55c21d3b&scoped=true&\"\nimport script from \"./FilesToDownload.vue?vue&type=script&lang=js&\"\nexport * from \"./FilesToDownload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55c21d3b\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VDivider,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.aktualita)?_c('v-container',{staticClass:\"my-5\",attrs:{\"grid-list-xs\":\"\"}},[(_vm.loading)?_c('div',{staticClass:\"text-center\"},[_c('v-progress-circular',{attrs:{\"size\":100,\"width\":10,\"color\":\"primary\",\"indeterminate\":\"\"}})],1):_c('div',{class:{'ma-0': _vm.$vuetify.breakpoint.mdAndDown, 'marginlg': _vm.$vuetify.breakpoint.lg, 'marginxl': _vm.$vuetify.breakpoint.xl}},[_c('v-layout',{staticClass:\"heading\",attrs:{\"row\":\"\",\"wrap\":\"\",\"justify-space-around\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"md9\":\"\",\"lg10\":\"\",\"xl10\":\"\"}},[_c('div',{staticClass:\"outer ml-5\"},[_c('div',[_c('h1',[_vm._v(_vm._s(_vm.aktualita.nadpis))]),_c('v-divider',{staticClass:\"mb-2\"}),_c('h4',[_vm._v(\"Publikováno: \"+_vm._s(_vm.getCETDate))]),_c('h4',[_vm._v(\" Autor: \"),_c('v-chip',{staticClass:\"ml-1 autorChip\",attrs:{\"color\":\"default\",\"text-color\":\"#555\",\"small\":\"\"}},[_c('v-avatar',{attrs:{\"left\":\"\"}},[_c('v-icon',[_vm._v(\"mdi-account-circle\")])],1),_vm._v(\" \"+_vm._s(_vm.aktualita.autor.jmeno)+\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.aktualita.autor.prezdivka),expression:\"aktualita.autor.prezdivka\"}],staticClass:\"ml-2\"},[_vm._v(\"(\"+_vm._s(_vm.aktualita.autor.prezdivka)+\")\")])],1)],1),_c('h4',[_vm._v(\" Oddíly: \"),_vm._l((_vm.aktualita.oddils),function(oddil,index){return _c('v-chip',{key:index,staticClass:\"chip ml-1\",attrs:{\"color\":_vm.colors[oddil.nazev],\"dark\":\"\",\"small\":\"\"}},[_vm._v(_vm._s(oddil.nazev))])})],2)],1)])]),_c('v-flex',{attrs:{\"xs12\":\"\",\"sm4\":\"\",\"md3\":\"\",\"lg2\":\"\",\"xl2\":\"\"}},[(_vm.aktualita.obrazek)?_c('v-img',{staticClass:\"cover\",attrs:{\"src\":_vm.aktualita.obrazek.url}}):_vm._e()],1)],1),_c('div',{staticClass:\"pa-5 mt-2 zprava\"},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.aktualita.text)}}),(_vm.aktualita.priloha.length)?_c('FilesToDownload',{attrs:{\"priloha\":_vm.aktualita.priloha,\"showDeleteBtn\":false}}):_vm._e()],1),(_vm.isContributor)?_c('v-btn',{staticClass:\"px-4 mx-2 my-5 white--text float-right\",attrs:{\"large\":\"\",\"color\":\"#174085\",\"to\":{name: 'EditPost', params: {_id: _vm.aktualita._id}}}},[_c('v-icon',{staticClass:\"mr-1\"},[_vm._v(\"mdi-pencil\")]),_vm._v(\"Upravit \")],1):_vm._e()],1)]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-container v-if=\"aktualita\" grid-list-xs class=\"my-5\">\r\n    <div\r\n      v-if=\"loading\"\r\n      class=\"text-center\"\r\n    >\r\n      <v-progress-circular\r\n      :size=\"100\"\r\n      :width=\"10\"\r\n      color=\"primary\"\r\n      indeterminate\r\n      ></v-progress-circular>\r\n    </div>\r\n    <div\r\n      :class=\"{'ma-0': $vuetify.breakpoint.mdAndDown, 'marginlg': $vuetify.breakpoint.lg, 'marginxl': $vuetify.breakpoint.xl}\"\r\n      v-else\r\n    >\r\n      <v-layout row wrap justify-space-around class=\"heading\">\r\n        <v-flex xs12 sm8 md9 lg10 xl10>\r\n          <div class=\"outer ml-5\">\r\n            <div>\r\n              <h1>{{aktualita.nadpis}}</h1>\r\n              <v-divider class=\"mb-2\"></v-divider>\r\n              <h4>Publikováno: {{getCETDate}}</h4>\r\n              <h4>\r\n                Autor:\r\n                <v-chip class=\"ml-1 autorChip\" color=\"default\" text-color=\"#555\" small>\r\n                  <v-avatar left>\r\n                    <v-icon>mdi-account-circle</v-icon>\r\n                  </v-avatar>\r\n                  {{aktualita.autor.jmeno}}\r\n                  <span\r\n                    class=\"ml-2\"\r\n                    v-show=\"aktualita.autor.prezdivka\"\r\n                  >({{aktualita.autor.prezdivka}})</span>\r\n                </v-chip>\r\n              </h4>\r\n              <h4>\r\n                Oddíly:\r\n                <v-chip\r\n                  v-for=\"(oddil, index) in aktualita.oddils\"\r\n                  :key=\"index\"\r\n                  :color=\"colors[oddil.nazev]\"\r\n                  dark\r\n                  class=\"chip ml-1\"\r\n                  small\r\n                >{{oddil.nazev}}</v-chip>\r\n              </h4>\r\n            </div>\r\n          </div>\r\n        </v-flex>\r\n        <v-flex xs12 sm4 md3 lg2 xl2>\r\n          <v-img class=\"cover\" v-if=\"aktualita.obrazek\" :src=\"aktualita.obrazek.url\"></v-img>\r\n        </v-flex>\r\n      </v-layout>\r\n      <div class=\"pa-5 mt-2 zprava\">\r\n        <div v-html=\"aktualita.text\"></div>\r\n        <FilesToDownload\r\n          v-if=\"aktualita.priloha.length\"\r\n          :priloha=\"aktualita.priloha\"\r\n          :showDeleteBtn=\"false\"\r\n        />\r\n      </div>\r\n    <v-btn\r\n      large\r\n      class=\"px-4 mx-2 my-5 white--text float-right\"\r\n      v-if=\"isContributor\"\r\n      color=\"#174085\"\r\n      :to=\"{name: 'EditPost', params: {_id: aktualita._id}}\"\r\n    >\r\n      <v-icon class=\"mr-1\">mdi-pencil</v-icon>Upravit\r\n    </v-btn>\r\n    </div>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport Constants from \"@/constants.js\";\r\nimport FilesToDownload from \"@/components/Aktuality/FilesToDownload\";\r\n\r\nexport default {\r\n  name: \"Post\",\r\n\r\n  data() {\r\n    return {\r\n      loading:false,\r\n      colors: Constants.colors,\r\n      backendAPI: Constants.backendAPI,\r\n      aktualita: null,\r\n      text: \"\",\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    getMinutes(aktualita) {\r\n      return (\r\n        (aktualita.createdAtCET.getMinutes() < 10 ? \"0\" : \"\") +\r\n        aktualita.createdAtCET.getMinutes()\r\n      );\r\n    },\r\n\r\n    convertTimeToCET: function (aktualita) {\r\n      aktualita.createdAtCET = new Date(aktualita.createdAt);\r\n    },\r\n\r\n    // convertToHTML: function (markdown) {\r\n    //   var showdown = require(\"showdown\");\r\n    //   var converter = new showdown.Converter();\r\n    //   converter.setOption(\"simpleLineBreaks\", true); // makes sure that line end will make <br> tag\r\n    //   return converter.makeHtml(markdown);\r\n    // },\r\n  },\r\n\r\n  computed: {\r\n    getCETDate: function () {\r\n      try {\r\n        // because of asynchronnous programming - it would require object which doesn´t exist yet\r\n        return (\r\n          this.aktualita.createdAtCET.getDate() +\r\n          \". \" +\r\n          this.aktualita.createdAtCET.getMonth() +\r\n          \". \" +\r\n          this.aktualita.createdAtCET.getFullYear() +\r\n          \", \" +\r\n          this.aktualita.createdAtCET.getHours() +\r\n          \":\" +\r\n          this.getMinutes(this.aktualita)\r\n        );\r\n      } catch {\r\n        return \"\";\r\n      }\r\n    },\r\n\r\n    // backendAPI() {\r\n    //   return this.$store.getters.getBackendAPI;\r\n    // },\r\n\r\n    isContributor() {\r\n      return this.$store.getters.isContributor;\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.loading=true;\r\n    // this.slug = this.$route.params.slug.replace(\"+\", \"%2B\");\r\n    console.log(\"getting post with _id = \" + this.$route.params._id);\r\n    axios\r\n      .get(`/aktualitas/` + this.$route.params._id)\r\n      .then((response) => {\r\n        console.log(\"received aktualita...\", response);\r\n        this.aktualita = response.data;\r\n        this.convertTimeToCET(this.aktualita);\r\n        // this.text = this.convertToHTML(this.aktualita.text);\r\n        document.title = \"Skaut\" + \" - \" + this.aktualita.nadpis;\r\n        console.log(\"response post\",response);\r\n        this.loading=false;\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        this.loading=false;\r\n      });\r\n  },\r\n\r\n  components: {\r\n    FilesToDownload,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.outer {\r\n  display: flex;\r\n  align-items: center;\r\n  height: 100%;\r\n}\r\n\r\n.cover {\r\n  float: right;\r\n  height: 100%;\r\n  width: auto;\r\n  max-height: 200px;\r\n}\r\n\r\n@media only screen and (max-width: 600px) {\r\n  .cover {\r\n    float: initial;\r\n  }\r\n}\r\n\r\n.heading {\r\n  background-color: rgb(249, 249, 249);\r\n  border: 1px solid rgb(224, 218, 208);\r\n  border-radius: 7px;\r\n}\r\n\r\n.heading:hover {\r\n  background-color: rgb(247, 244, 244);\r\n}\r\n\r\nh1 {\r\n  font-size: 1.9rem;\r\n  text-transform: uppercase;\r\n  font-family: \"skautbold\";\r\n}\r\n\r\nh4 {\r\n  font-weight: normal;\r\n  margin-bottom: 5px;\r\n}\r\n\r\n.zprava {\r\n  /* background-color: rgb(247, 247 , 247); */\r\n  border: 1px solid rgb(245, 245, 245);\r\n  border-radius: 7px;\r\n  margin-left: -1px;\r\n  margin-right: -1px;\r\n}\r\n\r\n.zprava:hover {\r\n  border: 1px solid rgb(236, 236, 236);\r\n  background-color: rgb(254, 254, 254);\r\n}\r\n\r\n.marginlg {\r\n  margin: 0 70px 0 70px;\r\n}\r\n\r\n.marginxl {\r\n  margin: 0 150px 0 150px;\r\n}\r\n\r\n.size {\r\n  color: lightgray;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Post.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Post.vue?vue&type=template&id=15e1b0b7&scoped=true&\"\nimport script from \"./Post.vue?vue&type=script&lang=js&\"\nexport * from \"./Post.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Post.vue?vue&type=style&index=0&id=15e1b0b7&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15e1b0b7\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VImg } from 'vuetify/lib/components/VImg';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VAvatar,VBtn,VChip,VContainer,VDivider,VFlex,VIcon,VImg,VLayout,VProgressCircular})\n","// const backendAPI = 'https://skaut.herokuapp.com';\r\nconst oddilsUrlNames = ['skauti', 'skautky', 'vlcata', 'svetlusky', 'roveri', 'oldskauti'];\r\nconst oddilDiacriticsObj = {\r\n\tskauti: 'skauti',\r\n\tskautky: 'skautky',\r\n\tvlcata: 'vlčata',\r\n\tsvetlusky: 'světlušky',\r\n\troveri: 'roveři',\r\n\toldskauti: 'oldskauti'\r\n};\r\nconst colors = {\r\n\tskauti: '#5b4db7',\r\n\tskautky: '#58b220',\r\n\tvlčata: '#f47c1f',\r\n\tsvětlušky: '#d3c900',\r\n\troveři: '#d12121',\r\n\toldskauti: '#42adc7'\r\n};\r\n\r\nexport default {\r\n\t// backendAPI,\r\n\toddilsUrlNames,\r\n\toddilDiacriticsObj,\r\n\tcolors\r\n};\r\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Post.vue?vue&type=style&index=0&id=15e1b0b7&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Post.vue?vue&type=style&index=0&id=15e1b0b7&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{style:({ zIndex: _vm.options.zIndex }),attrs:{\"max-width\":_vm.options.width},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.cancel($event)}},model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-toolbar',{attrs:{\"dark\":\"\",\"color\":_vm.options.color,\"dense\":\"\",\"flat\":\"\"}},[_c('v-toolbar-title',{staticClass:\"white--text\"},[_vm._v(_vm._s(_vm.title))])],1),_c('v-card-text',{directives:[{name:\"show\",rawName:\"v-show\",value:(!!_vm.message),expression:\"!!message\"}],staticClass:\"pa-4\"},[_vm._v(_vm._s(_vm.message))]),_c('v-card-actions',{staticClass:\"pt-0\"},[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary darken-1\",\"text\":\"\"},nativeOn:{\"click\":function($event){return _vm.agree($event)}}},[_vm._v(\"Ano\")]),_c('v-btn',{attrs:{\"color\":\"grey\",\"text\":\"\"},nativeOn:{\"click\":function($event){return _vm.cancel($event)}}},[_vm._v(\"Zrušit\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n<template>\r\n  <v-dialog v-model=\"dialog\" :max-width=\"options.width\" :style=\"{ zIndex: options.zIndex }\" @keydown.esc=\"cancel\">\r\n    <v-card>\r\n      <v-toolbar dark :color=\"options.color\" dense flat>\r\n        <v-toolbar-title class=\"white--text\">{{ title }}</v-toolbar-title>\r\n      </v-toolbar>\r\n      <v-card-text v-show=\"!!message\" class=\"pa-4\">{{ message }}</v-card-text>\r\n      <v-card-actions class=\"pt-0\">\r\n        <v-spacer></v-spacer>\r\n        <v-btn color=\"primary darken-1\" text @click.native=\"agree\">Ano</v-btn>\r\n        <v-btn color=\"grey\" text @click.native=\"cancel\">Zrušit</v-btn>\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * Vuetify Confirm Dialog component\r\n *\r\n * Insert component where you want to use it:\r\n * <confirm ref=\"confirm\"></confirm>\r\n *\r\n * Call it:\r\n * this.$refs.confirm.open('Delete', 'Are you sure?', { color: 'red' }).then((confirm) => {})\r\n * Or use await:\r\n * if (await this.$refs.confirm.open('Delete', 'Are you sure?', { color: 'red' })) {\r\n *   // yes\r\n * }\r\n * else {\r\n *   // cancel\r\n * }\r\n *\r\n * Alternatively you can place it in main App component and access it globally via this.$root.$confirm\r\n * <template>\r\n *   <v-app>\r\n *     ...\r\n *     <confirm ref=\"confirm\"></confirm>\r\n *   </v-app>\r\n * </template>\r\n *\r\n * mounted() {\r\n *   this.$root.$confirm = this.$refs.confirm.open\r\n * }\r\n */\r\nexport default {\r\n  data: () => ({\r\n    dialog: false,\r\n    resolve: null,\r\n    reject: null,\r\n    message: null,\r\n    title: null,\r\n    options: {\r\n      color: 'primary',\r\n      width: 290,\r\n      zIndex: 200\r\n    }\r\n  }),\r\n  methods: {\r\n    open(title, message, options) {\r\n      this.dialog = true\r\n      this.title = title\r\n      this.message = message\r\n      this.options = Object.assign(this.options, options)\r\n      return new Promise((resolve, reject) => {\r\n        this.resolve = resolve\r\n        this.reject = reject\r\n      })\r\n    },\r\n    agree() {\r\n      this.resolve(true)\r\n      this.dialog = false\r\n    },\r\n    cancel() {\r\n      this.resolve(false)\r\n      this.dialog = false\r\n    }\r\n  }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Confirm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Confirm.vue?vue&type=template&id=4126ce9e&\"\nimport script from \"./Confirm.vue?vue&type=script&lang=js&\"\nexport * from \"./Confirm.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VDialog,VSpacer,VToolbar,VToolbarTitle})\n"],"sourceRoot":""}