{"version":3,"sources":["webpack:///./src/components/Kontakty/KontaktOddil.vue?8b0e","webpack:///./src/views/KontaktView.vue?ce4c","webpack:///./src/views/KontaktView.vue?83ef","webpack:///./src/components/Kontakty/KontaktVudci.vue?a4d1","webpack:///./src/components/Kontakty/PersonCardLoader.vue?50d5","webpack:///src/components/Kontakty/PersonCardLoader.vue","webpack:///./src/components/Kontakty/PersonCardLoader.vue?eabf","webpack:///./src/components/Kontakty/PersonCardLoader.vue","webpack:///src/components/Kontakty/KontaktVudci.vue","webpack:///./src/components/Kontakty/KontaktVudci.vue?57ba","webpack:///./src/components/Kontakty/KontaktVudci.vue","webpack:///./src/components/Kontakty/KontaktOddil.vue?ce3d","webpack:///src/components/Kontakty/KontaktOddil.vue","webpack:///./src/components/Kontakty/KontaktOddil.vue?7a1f","webpack:///./src/components/Kontakty/KontaktOddil.vue?9a33","webpack:///src/views/KontaktView.vue","webpack:///./src/views/KontaktView.vue?3ede","webpack:///./src/views/KontaktView.vue?65f6"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","id","_e","staticRenderFns","ref","scopedSlots","_u","key","fn","on","_g","_b","directives","name","rawName","value","expression","$event","pickDialog","_l","index","person","_id","vedouci","fotka","url","jmeno","prezdivka","funkce","popis","email","telefon","facebook","deleteItem","removeItem","model","callback","$$v","vedoucis","newVedouci","params","oddil","add","component","VCard","VSkeletonLoader","data","oddily","errors","main_contacts","loading","methods","setLoading","$store","commit","compare","a","updatedAt","b","getMainVedoucis","Promise","getRestOfVedoucis","console","log","result","e","isInArray","forEach","x","contact","search","i","$refs","confirm","computed","isContributor","getters","created","components","PersonCard","PersonCardLoader","Confirm","VBtn","VCardActions","VCardText","VCardTitle","VContainer","VDialog","VFlex","VIcon","VLayout","VSelect","VSpacer","VTooltip","_s","oddilNazev","props","skauti","skautky","vlcata","svetlusky","roveri","oldskauti","oddilDiacritics","getVedoucis","oddil_nazev","watch","newVal","$route","KontaktVudci","KontaktOddil","VDivider"],"mappings":"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","file":"js/KontaktView-lazy-load.79a040a4.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KontaktOddil.vue?vue&type=style&index=0&id=271ec0ca&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KontaktOddil.vue?vue&type=style&index=0&id=271ec0ca&scoped=true&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KontaktView.vue?vue&type=style&index=0&id=03e3589d&scoped=true&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KontaktView.vue?vue&type=style&index=0&id=03e3589d&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"my-3\",attrs:{\"grid-list-xs\":\"\",\"text-center\":\"\"}},[(_vm.id)?_c('div',[_c('h1',{staticClass:\"mb-0\",attrs:{\"id\":\"Aktuality\"}},[_vm._v(\"Kontakty na hlavní vedoucí\")]),_c('v-divider',{staticClass:\"mb-2\"}),_c('KontaktOddil',{attrs:{\"oddil\":_vm.id}})],1):_c('div',[_c('h1',[_vm._v(\"Kontakty na hlavní vedoucí\")]),_c('v-divider',{staticClass:\"mb-2\"}),_c('KontaktVudci',{attrs:{\"py-5\":\"\"}})],1),(_vm.isContributor)?_c('p',[_c('strong',[_vm._v(\"Tip:\")]),_vm._v(\" Pořadí vedoucích se řídí podle času poslední úpravy. Pro umístění na první místo aktualizuj beze změny daného vedoucího. \")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"team py-2\"},[_c('Confirm',{ref:\"confirm\"}),_c('v-container',{attrs:{\"grid-list-xs\":\"\",\"my-5\":\"\"}},[_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isContributor),expression:\"isContributor\"}],staticClass:\"mb-5 mt-n3 editBtn\",attrs:{\"fab\":\"\",\"dark\":\"\",\"color\":\"#174085\"},on:{\"click\":function($event){_vm.pickDialog = true}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-plus\")])],1)]}}])},[_c('span',[_vm._v(\"Přidat vedoucího\")])]),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"justify-space-around\":\"\",\"align-center\":\"\",\"temporary\":\"\"}},[(_vm.loading)?_vm._l((7),function(index){return _c('v-flex',{key:index,attrs:{\"xl3\":\"\",\"lg4\":\"\",\"md6\":\"\",\"sm6\":\"\",\"xs12\":\"\",\"mt-1\":\"\"}},[_c('PersonCardLoader')],1)}):_vm._l((_vm.main_contacts),function(person){return _c('v-flex',{key:person._id,attrs:{\"xl3\":\"\",\"lg4\":\"\",\"md6\":\"\",\"sm6\":\"\",\"xs12\":\"\",\"mt-1\":\"\"}},[_c('PersonCard',{attrs:{\"fotkaUrl\":person.vedouci.fotka[0] ? person.vedouci.fotka[0].url : '',\"jmeno\":person.vedouci.jmeno,\"prezdivka\":person.vedouci.prezdivka ? person.vedouci.prezdivka : '',\"funkce\":person.vedouci.funkce ? person.vedouci.funkce : '',\"popis\":person.vedouci.popis ? person.vedouci.popis : '',\"email\":person.vedouci.email ? person.vedouci.email : '',\"telefon\":person.vedouci.telefon ? person.vedouci.telefon : '',\"facebook\":person.vedouci.facebook ? person.vedouci.facebook : '',\"_id\":person.vedouci._id,\"showPossibleEditBtn\":\"isContributor\",\"showRemoveBtn\":true},on:{\"deleteItem\":function($event){return _vm.deleteItem(person)},\"removeItem\":function($event){return _vm.removeItem(person)}}})],1)})],2)],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\"},model:{value:(_vm.pickDialog),callback:function ($$v) {_vm.pickDialog=$$v},expression:\"pickDialog\"}},[_c('v-card',[_c('v-card-title',[_vm._v(\" Přidat veřejný kontakt \")]),_c('v-card-text',[_c('v-select',{attrs:{\"items\":_vm.vedoucis,\"label\":\"Vyberte vedoucího\",\"item-text\":\"jmeno\",\"item-value\":\"id\"},model:{value:(_vm.newVedouci),callback:function ($$v) {_vm.newVedouci=$$v},expression:\"newVedouci\"}})],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\",\"to\":{name: 'CreateVedouciView', params: {oddil: null}}}},[_vm._v(\" Nový \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"disabled\":_vm.newVedouci==null},on:{\"click\":_vm.add}},[_vm._v(\" Přidat \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"my-5 mx-auto card\",attrs:{\"max-width\":\"344\",\"height\":\"300\",\"outlined\":\"\"}},[_c('v-skeleton-loader',{attrs:{\"type\":\"image, list-item-two-line\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-card class=\"my-5 mx-auto card\" max-width=\"344\" height=\"300\" outlined>\r\n    <v-skeleton-loader type=\"image, list-item-two-line\"></v-skeleton-loader>\r\n  </v-card>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"PersonCardLoader\",\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonCardLoader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PersonCardLoader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PersonCardLoader.vue?vue&type=template&id=c56d53f6&scoped=true&\"\nimport script from \"./PersonCardLoader.vue?vue&type=script&lang=js&\"\nexport * from \"./PersonCardLoader.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c56d53f6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VCard,VSkeletonLoader})\n","<template>\r\n  <div class=\"team py-2\">\r\n    <Confirm ref=\"confirm\"></Confirm>\r\n    <v-container grid-list-xs my-5>\r\n      <v-tooltip bottom>\r\n        <template v-slot:activator=\"{ on, attrs }\">\r\n          <v-btn\r\n            v-show=\"isContributor\"\r\n            class=\"mb-5 mt-n3 editBtn\"\r\n            fab\r\n            dark\r\n            v-bind=\"attrs\"\r\n            v-on=\"on\"\r\n            color=\"#174085\"\r\n            @click=\"pickDialog = true\"\r\n          >\r\n            <v-icon dark>mdi-plus</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <span>Přidat vedoucího</span>\r\n      </v-tooltip>\r\n      <v-layout row wrap justify-space-around align-center temporary>\r\n          <template v-if=\"loading\">\r\n            <v-flex  xl3 lg4 md6 sm6 xs12 mt-1 v-for=\"index in 7\" :key=\"index\">\r\n              <PersonCardLoader />\r\n            </v-flex>    \r\n          </template>   \r\n\r\n        <template v-else>        \r\n          <v-flex xl3 lg4 md6 sm6 xs12 mt-1 v-for=\"person in main_contacts\" :key=\"person._id\">\r\n            <PersonCard\r\n              :fotkaUrl=\"person.vedouci.fotka[0] ? person.vedouci.fotka[0].url : ''\"\r\n              :jmeno=\"person.vedouci.jmeno\"\r\n              :prezdivka=\"person.vedouci.prezdivka ? person.vedouci.prezdivka : ''\"\r\n              :funkce=\"person.vedouci.funkce ? person.vedouci.funkce : ''\"\r\n              :popis=\"person.vedouci.popis ? person.vedouci.popis : ''\"\r\n              :email=\"person.vedouci.email ? person.vedouci.email : ''\"\r\n              :telefon=\"person.vedouci.telefon ? person.vedouci.telefon : ''\"\r\n              :facebook=\"person.vedouci.facebook ? person.vedouci.facebook : ''\"\r\n              :_id=\"person.vedouci._id\"\r\n              showPossibleEditBtn=\"isContributor\"\r\n              :showRemoveBtn=\"true\"\r\n              @deleteItem=\"deleteItem(person)\"\r\n              @removeItem=\"removeItem(person)\"\r\n            ></PersonCard>\r\n          </v-flex>\r\n        </template>\r\n      </v-layout>\r\n    </v-container>\r\n\r\n    <v-dialog\r\n        v-model=\"pickDialog\"\r\n        max-width=\"500px\"\r\n      >\r\n        <v-card>\r\n          <v-card-title>\r\n            Přidat veřejný kontakt\r\n          </v-card-title>\r\n          <v-card-text>\r\n            <v-select\r\n              :items=\"vedoucis\"\r\n              v-model=\"newVedouci\"\r\n              label=\"Vyberte vedoucího\"\r\n              item-text=\"jmeno\"\r\n              item-value=\"id\"\r\n            ></v-select>\r\n          </v-card-text>\r\n          <v-card-actions>\r\n            <v-btn\r\n              color=\"primary\"\r\n              text\r\n              :to=\"{name: 'CreateVedouciView', params: {oddil: null}}\"\r\n            >\r\n              Nový\r\n            </v-btn>\r\n            <v-spacer></v-spacer>\r\n            <v-btn\r\n              color=\"primary\"\r\n              @click=\"add\"\r\n              :disabled=\"newVedouci==null\"\r\n            >\r\n              Přidat\r\n            </v-btn>\r\n          </v-card-actions>\r\n        </v-card>\r\n      </v-dialog>    \r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport PersonCard from \"./PersonCard\";\r\nimport PersonCardLoader from \"./PersonCardLoader\";\r\nimport Confirm from \"../Confirm\";\r\n\r\n\r\nexport default {\r\n  data: () => {\r\n    return {\r\n      newVedouci: null,\r\n      pickDialog: false,\r\n      vedoucis: [],\r\n      oddily: [],\r\n      errors: [],\r\n      main_contacts: [],\r\n      loading: true\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    setLoading: function (value) {\r\n      this.$store.commit(\"setLoading\", value);\r\n    },\r\n\r\n    compare: function(a, b) {\r\n      if (a.vedouci.updatedAt > b.vedouci.updatedAt) return -1;\r\n      if (b.vedouci.updatedAt > a.vedouci.updatedAt) return 1;\r\n      return 0;\r\n    },\r\n\r\n    getMainVedoucis() {      \r\n      return new Promise((resolve) =>  {\r\n        axios\r\n          .get('/dulezity-vedoucis')\r\n          .then((response) => {\r\n            this.main_contacts= [];\r\n            response.data.forEach((item) => {\r\n              console.log(item);\r\n              this.main_contacts.push(item)\r\n            })\r\n            this.main_contacts.sort(this.compare);\r\n            this.getRestOfVedoucis();\r\n            console.log(\"main_contacts\", this.main_contacts);\r\n            this.loading = false;\r\n            this.setLoading(false);\r\n            resolve('OK');\r\n          })\r\n          .catch((e) => {\r\n            this.errors.push(e);\r\n            this.loading = false;\r\n            this.setLoading(false);\r\n          });\r\n      })\r\n    },\r\n\r\n    getRestOfVedoucis() {\r\n      axios({\r\n      url: '/graphql',\r\n      method: 'post',\r\n      data: {\r\n        query: `\r\n        {\r\n          vedoucis {\r\n              jmeno,\r\n              id\r\n            }\r\n        }\r\n        `\r\n      }})\r\n      .then((result) => {      \r\n        console.log(\"vedoucis\", result.data.data.vedoucis);\r\n        this.vedoucis = result.data.data.vedoucis;\r\n        this.vedoucis = this.vedoucis.filter(x => this.search(x.id));\r\n      })\r\n      .catch((e) => {\r\n        console.log(e);\r\n        this.errors.push(e);\r\n      });\r\n    },\r\n\r\n    add() {\r\n      if (this.newVedouci!=null)  {\r\n        this.pickDialog = false;\r\n        this.setLoading(true);\r\n        axios.post('/dulezity-vedoucis', {\r\n            'vedouci': this.newVedouci\r\n          })\r\n          .then((response) => {\r\n            console.log('new vedouci was added',response);\r\n            this.getMainVedoucis()\r\n            this.newVedouci=null;\r\n            this.setLoading(false);\r\n  \r\n          })\r\n          .catch(function(e){\r\n            console.log('new vedouci was not added',e);\r\n          })\r\n      }\r\n      console.log(\"Adding vedouci with id =\", this.newVedouci);\r\n    },\r\n\r\n    isInArray: function(x) {\r\n      this.main_contacts.forEach((contact) =>  {\r\n        if (x.id == contact.vedouci.id)  {\r\n          return true;\r\n        }\r\n      })\r\n    },\r\n\r\n    search(id) {\r\n      for (var i=0; i < this.main_contacts.length; i++) {\r\n          if (this.main_contacts[i].vedouci.id === id) {\r\n              console.log(\"found\");\r\n              return false;\r\n          }\r\n      }\r\n      return true;\r\n    },\r\n\r\n    deleteItem(person)  {      \r\n      console.log(\"opening confirmation dialog to delete\", person.vedouci);\r\n      this.$refs.confirm\r\n        .open(\r\n          'Odstranit', 'Opravdu chcete trvale odstranit vedoucího ' + person.vedouci.jmeno + '?', \r\n          { color: 'error' }\r\n        )\r\n        .then((confirm) => {\r\n          if (confirm)  {\r\n            this.setLoading(true);\r\n            let promises = [];\r\n\r\n            // delete from collection dulezity-vedoucis\r\n            promises.push(axios.delete('/dulezity-vedoucis/' + person.id)\r\n              .then((response) => {\r\n                console.log('dulezity vedouci deleted',response);\r\n              })\r\n              .catch(function(e){\r\n                console.log('error while deleting dulezity vedouci',e);\r\n              }))\r\n\r\n            //delete photo\r\n            if (person.vedouci.fotka[0].url) {\r\n              promises.push(\r\n                axios.delete('/upload/files/' + person.vedouci.fotka[0]._id)\r\n                  .then((response) => {\r\n                    console.log('photo of vedouci deleted successfully',response);                    \r\n                  })\r\n                  .catch(function(e){\r\n                    console.log('error while deleting photo of vedouci',e);\r\n                  }));\r\n            }\r\n\r\n            // delete from collection vedoucis\r\n            promises.push(axios.delete('/vedoucis/' + person.vedouci.id)\r\n              .then((response) => {\r\n                console.log('vedouci deleted',response);\r\n              })\r\n              .catch(function(e){\r\n                console.log('error while deleting vedouci',e);\r\n              }))\r\n\r\n            Promise.all(promises)\r\n              .then((res) =>  {\r\n                console.log(\"vedouci (and photo) deleted from both collections successfully\",res);\r\n                this.getMainVedoucis();\r\n              })\r\n              .catch((e) =>  {\r\n                console.log(\"there was a fail during deleting vedouci\",e.response);\r\n                this.getMainVedoucis();\r\n              })\r\n          }\r\n        });      \r\n    },\r\n\r\n    removeItem(person)  {\r\n      console.log(\"opening confirmation dialog to remove\", person);\r\n      this.$refs.confirm\r\n        .open(\r\n          'Odstranit', 'Opravdu chcete odebrat vedoucího ' + person.vedouci.jmeno + '? Vedoucí nebude smazán úplně, pouze bude odstraněn z tohoto veřejného seznamu.', \r\n          { color: 'warning' }\r\n        )\r\n        .then((confirm) => {\r\n          if (confirm)  {\r\n            this.setLoading(true);\r\n            axios.delete('/dulezity-vedoucis/' + person.id)\r\n              .then((response) => {\r\n                console.log('dulezity vedouci deleted',response);\r\n                this.getMainVedoucis();\r\n              })\r\n              .catch(function(e){\r\n                console.log('error while deleting dulezity vedouci',e);\r\n                this.getMainVedoucis();\r\n              })\r\n          }\r\n        });      \r\n    },    \r\n  },\r\n\r\n  computed: {\r\n    isContributor() {\r\n      return this.$store.getters.isContributor;\r\n    },    \r\n  },\r\n\r\n  created() {\r\n    // get main vedouci-----\r\n    this.getMainVedoucis();\r\n  },\r\n\r\n  components: {\r\n    PersonCard,\r\n    PersonCardLoader,\r\n    Confirm,\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KontaktVudci.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KontaktVudci.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./KontaktVudci.vue?vue&type=template&id=1c1cf8f5&scoped=true&\"\nimport script from \"./KontaktVudci.vue?vue&type=script&lang=js&\"\nexport * from \"./KontaktVudci.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1c1cf8f5\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VContainer,VDialog,VFlex,VIcon,VLayout,VSelect,VSpacer,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"team py-2\"},[_c('Confirm',{ref:\"confirm\"}),_c('v-container',{attrs:{\"grid-list-xs\":\"\",\"my-2\":\"\"}},[_c('h2',{staticClass:\"mb-5\"},[_vm._v(_vm._s(_vm.oddilNazev[_vm.oddil]))]),_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isContributor),expression:\"isContributor\"}],staticClass:\"mb-5 editBtn\",attrs:{\"fab\":\"\",\"dark\":\"\",\"color\":\"#174085\",\"to\":{name: 'CreateVedouciView', params: {oddil: _vm.oddil}}}},'v-btn',attrs,false),on),[_c('v-icon',{attrs:{\"dark\":\"\"}},[_vm._v(\"mdi-plus\")])],1)]}}])},[_c('span',[_vm._v(\"Vytvořit nového vedoucího\")])]),_c('v-layout',{attrs:{\"row\":\"\",\"wrap\":\"\",\"justify-space-around\":\"\",\"align-center\":\"\",\"temporary\":\"\"}},[(_vm.loading)?_vm._l((5),function(index){return _c('v-flex',{key:index,attrs:{\"xl3\":\"\",\"lg4\":\"\",\"md6\":\"\",\"sm6\":\"\",\"xs12\":\"\",\"mt-1\":\"\"}},[_c('PersonCardLoader')],1)}):_vm._l((_vm.vedouci),function(person){return _c('v-flex',{key:person._id,attrs:{\"xl3\":\"\",\"lg4\":\"\",\"md6\":\"\",\"sm6\":\"\",\"xs12\":\"\",\"mt-1\":\"\"}},[_c('PersonCard',{attrs:{\"fotkaUrl\":person.fotka[0] ? person.fotka[0].url : '',\"jmeno\":person.jmeno,\"prezdivka\":person.prezdivka ? person.prezdivka : '',\"funkce\":person.funkce ? person.funkce : '',\"popis\":person.popis ? person.popis : '',\"email\":person.email ? person.email : '',\"telefon\":person.telefon ? person.telefon : '',\"facebook\":person.facebook ? person.facebook : '',\"_id\":person._id,\"showPossibleEditBtn\":\"isContributor\",\"showRemoveBtn\":false},on:{\"deleteItem\":function($event){return _vm.deleteItem(person)}}})],1)})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"team py-2\">\r\n    <Confirm ref=\"confirm\"></Confirm>\r\n    <v-container grid-list-xs my-2>\r\n      <h2 class=\"mb-5\">{{oddilNazev[oddil]}}</h2>\r\n      <v-tooltip bottom>\r\n        <template v-slot:activator=\"{ on, attrs }\">\r\n          <v-btn\r\n            v-show=\"isContributor\"\r\n            class=\"mb-5 editBtn\"\r\n            fab\r\n            dark\r\n            v-bind=\"attrs\"\r\n            v-on=\"on\"\r\n            color=\"#174085\"            \r\n            :to=\"{name: 'CreateVedouciView', params: {oddil: oddil}}\"\r\n          >\r\n            <v-icon dark>mdi-plus</v-icon>\r\n          </v-btn>\r\n        </template>\r\n        <span>Vytvořit nového vedoucího</span>\r\n      </v-tooltip>\r\n      <!-- <h1>There are {{vedouci.length}} vedoucis.</h1> -->\r\n      <v-layout row wrap justify-space-around align-center temporary>\r\n        <template v-if=\"loading\">\r\n          <v-flex  xl3 lg4 md6 sm6 xs12 mt-1 v-for=\"index in 5\" :key=\"index\">\r\n            <PersonCardLoader />\r\n          </v-flex>    \r\n        </template>        \r\n\r\n        <template v-else>\r\n          <v-flex xl3 lg4 md6 sm6 xs12 mt-1 v-for=\"person in vedouci\" :key=\"person._id\">\r\n            <PersonCard\r\n              :fotkaUrl=\"person.fotka[0] ? person.fotka[0].url : ''\"\r\n              :jmeno=\"person.jmeno\"\r\n              :prezdivka=\"person.prezdivka ? person.prezdivka : ''\"\r\n              :funkce=\"person.funkce ? person.funkce : ''\"\r\n              :popis=\"person.popis ? person.popis : ''\"\r\n              :email=\"person.email ? person.email : ''\"\r\n              :telefon=\"person.telefon ? person.telefon : ''\"\r\n              :facebook=\"person.facebook ? person.facebook : ''\"\r\n              :_id=\"person._id\"\r\n              showPossibleEditBtn=\"isContributor\"\r\n              :showRemoveBtn=\"false\"\r\n              @deleteItem=\"deleteItem(person)\"\r\n            ></PersonCard>\r\n          </v-flex>\r\n        </template>\r\n      </v-layout>\r\n    </v-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport PersonCard from \"./PersonCard\";\r\nimport PersonCardLoader from \"./PersonCardLoader\";\r\nimport Constants from \"@/constants.js\";\r\nimport Confirm from \"../Confirm\";\r\n\r\n\r\nexport default {\r\n  name: \"Kontakt\",\r\n\r\n  props: [\"oddil\"],\r\n\r\n  data: function () {\r\n    return {\r\n      vedouci: [],\r\n      oddilNazev: {\r\n        skauti: \"2. oddíl skautů\",\r\n        skautky: \"2. oddíl skautek\",\r\n        vlcata: \"2. smečka vlčat\",\r\n        svetlusky: \"2. roj světlušek\",\r\n        roveri: \"2. oddíl roverů a rangers\",\r\n        oldskauti: \"Rikitanova dvojka\",\r\n      },\r\n      oddilDiacritics: Constants.oddilDiacriticsObj,\r\n      loading: true\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    setLoading: function (value) {\r\n      this.$store.commit(\"setLoading\", value);\r\n    },\r\n\r\n    getVedoucis: function (oddil_nazev) {\r\n      console.log(\"getting vedoucis for oddil:\", oddil_nazev);\r\n      axios\r\n        .get(`/vedoucis?oddil.nazev=` + oddil_nazev + '&_sort=updatedAt:desc')\r\n        .then((response) => {\r\n          // JSON responses are automatically parsed.\r\n          this.vedouci = response.data;\r\n          console.log(\"vedoucis loaded\",this.vedouci);\r\n          this.loading = false;\r\n        })\r\n        .catch((e) => {\r\n          this.errors.push(e);\r\n          this.loading = false;\r\n        });\r\n    },\r\n\r\n    deleteItem(vedouci)  {\r\n      console.log(\"opening confirmation dialog\", vedouci);\r\n      this.$refs.confirm\r\n        .open(\r\n          'Odstranit', 'Opravdu chcete trvale odstranit vedoucího ' + vedouci.jmeno + '?', \r\n          { color: 'error' }\r\n        )\r\n        .then((confirm) => {\r\n          if (confirm)  {\r\n            console.log(\"deleting item\",vedouci);\r\n            this.setLoading(true);     \r\n            let promises = [];       \r\n\r\n            //delete photo\r\n            if (vedouci.fotka[0].url) {\r\n              promises.push(\r\n                axios.delete('/upload/files/' + vedouci.fotka[0]._id)\r\n                  .then((response) => {\r\n                    console.log('photo of vedouci deleted successfully',response);                    \r\n                  })\r\n                  .catch(function(e){\r\n                    console.log('error while deleting photo of vedouci',e);\r\n                  }));\r\n            }\r\n            \r\n            //delete vedouci\r\n            promises.push(\r\n            axios.delete('/vedoucis/' + vedouci.id)\r\n              .then((response) => {\r\n                console.log('vedouci deleted successfully',response);\r\n                \r\n              })\r\n              .catch(function(e){\r\n                console.log('error while deleting vedouci',e);\r\n              }));\r\n\r\n            Promise.all(promises)\r\n              .then((res) =>  {\r\n                console.log(\"both vedouci and photo deleted successfully\", res);\r\n                this.getVedoucis(this.oddilDiacritics[this.oddil])\r\n                this.setLoading(false);\r\n              })\r\n              .catch((e) => {\r\n                console.log(\"error while deleting photo or vedouci\", e.response);\r\n                this.getVedoucis(this.oddilDiacritics[this.oddil])\r\n                this.setLoading(false);\r\n              })\r\n          }\r\n        });      \r\n    },\r\n  },\r\n\r\n  computed: {\r\n    isContributor() {\r\n      return this.$store.getters.isContributor;\r\n    },\r\n  },\r\n\r\n  watch: {\r\n    oddil: function (newVal) {\r\n      this.getVedoucis(this.oddilDiacritics[newVal]);\r\n    },\r\n  },\r\n\r\n  created() {\r\n    this.getVedoucis(this.oddilDiacritics[this.oddil]);\r\n  },\r\n\r\n  components: {\r\n    PersonCard,\r\n    PersonCardLoader,\r\n    Confirm\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh2 {\r\n  font-size: 1.5rem;\r\n  text-transform: uppercase;\r\n  font-family: \"skautbold\";\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KontaktOddil.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KontaktOddil.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./KontaktOddil.vue?vue&type=template&id=271ec0ca&scoped=true&\"\nimport script from \"./KontaktOddil.vue?vue&type=script&lang=js&\"\nexport * from \"./KontaktOddil.vue?vue&type=script&lang=js&\"\nimport style0 from \"./KontaktOddil.vue?vue&type=style&index=0&id=271ec0ca&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"271ec0ca\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFlex } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VContainer,VFlex,VIcon,VLayout,VTooltip})\n","<template>\r\n  <v-container class=\"my-3\" grid-list-xs text-center>\r\n    <div v-if=\"id\">\r\n      <h1 class=\"mb-0\" id=\"Aktuality\">Kontakty na hlavní vedoucí</h1>  \r\n      <v-divider class=\"mb-2\"></v-divider>    \r\n      <KontaktOddil :oddil=\"id\" />\r\n    </div>\r\n    <div v-else>\r\n      <h1>Kontakty na hlavní vedoucí</h1>\r\n      <v-divider class=\"mb-2\"></v-divider>\r\n      <KontaktVudci py-5 />\r\n    </div>    \r\n  <p v-if=\"isContributor\"><strong>Tip:</strong> Pořadí vedoucích se řídí podle času poslední úpravy. Pro umístění na první místo aktualizuj beze změny daného vedoucího. </p>\r\n  </v-container>\r\n</template>\r\n\r\n<script>\r\nimport KontaktVudci from \"../components/Kontakty/KontaktVudci\";\r\nimport KontaktOddil from \"../components/Kontakty/KontaktOddil\";\r\n\r\nexport default {\r\n  name: \"KontaktView\",\r\n  data: function () {\r\n    return {\r\n      id: this.$route.params.oddil,      \r\n    };\r\n  },\r\n\r\n  computed: {\r\n    isContributor() {\r\n      return this.$store.getters.isContributor;\r\n    },\r\n  },\r\n\r\n  components: {\r\n    KontaktVudci,\r\n    KontaktOddil,\r\n  },\r\n\r\n  watch: {\r\n    $route(to) {\r\n      // react to route changes...\r\n      // this.getVedoucis(to);\r\n      this.id=to.params.oddil;\r\n      // console.log(to,from);\r\n    }\r\n  },\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\nh1 {\r\n  font-family: \"skautbold\";\r\n  font-size: 2.5rem;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KontaktView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KontaktView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./KontaktView.vue?vue&type=template&id=03e3589d&scoped=true&\"\nimport script from \"./KontaktView.vue?vue&type=script&lang=js&\"\nexport * from \"./KontaktView.vue?vue&type=script&lang=js&\"\nimport style0 from \"./KontaktView.vue?vue&type=style&index=0&id=03e3589d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03e3589d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\ninstallComponents(component, {VContainer,VDivider})\n"],"sourceRoot":""}