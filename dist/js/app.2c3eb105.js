(function(t){function e(e){for(var a,s,l=e[0],r=e[1],c=e[2],u=0,v=[];u<l.length;u++)s=l[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&v.push(i[s][0]),i[s]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);d&&d(e);while(v.length)v.shift()();return n.push.apply(n,c||[]),o()}function o(){for(var t,e=0;e<n.length;e++){for(var o=n[e],a=!0,l=1;l<o.length;l++){var r=o[l];0!==i[r]&&(a=!1)}a&&(n.splice(e--,1),t=s(s.s=o[0]))}return t}var a={},i={app:0},n=[];function s(e){if(a[e])return a[e].exports;var o=a[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=t,s.c=a,s.d=function(t,e,o){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(o,a,function(e){return t[e]}.bind(null,a));return o},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=r;n.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"0286":function(t,e,o){"use strict";var a=o("721b"),i=o.n(a);i.a},"034f":function(t,e,o){"use strict";var a=o("85ec"),i=o.n(a);i.a},"043e":function(t,e,o){"use strict";var a=o("e5a1"),i=o.n(a);i.a},"0665":function(t,e,o){},"077c":function(t,e,o){"use strict";var a=o("94eb"),i=o.n(a);i.a},"0a0b":function(t,e,o){"use strict";var a=o("3352"),i=o.n(a);i.a},1:function(t,e){},2021:function(t,e,o){},"28d0":function(t,e,o){"use strict";var a=o("f10e"),i=o.n(a);i.a},3352:function(t,e,o){},3493:function(t,e,o){},4256:function(t,e,o){"use strict";var a=o("ec87"),i=o.n(a);i.a},"49f8":function(t,e,o){var a={"./cs.json":"c686"};function i(t){var e=n(t);return o(e)}function n(t){if(!o.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}i.keys=function(){return Object.keys(a)},i.resolve=n,t.exports=i,i.id="49f8"},"4ef0":function(t,e,o){"use strict";var a=o("2021"),i=o.n(a);i.a},"4fb6":function(t,e,o){"use strict";var a=o("f09b"),i=o.n(a);i.a},"56d7":function(t,e,o){"use strict";o.r(e);o("e260"),o("e6cf"),o("cca6"),o("a79d");var a=o("2b0e"),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-app",[o("Navbar"),o("v-main",[o("div",{class:{contributor:t.isContributor}},[o("router-view")],1)]),o("Footer"),o("LoadingScreen")],1)},n=[],s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-navigation-drawer",{staticClass:"mx-auto sideNavigation align-center justify-center",attrs:{fixed:"",temporary:"",right:""},scopedSlots:t._u([t.isLoggedIn?{key:"append",fn:function(){return[o("div",[o("p",{staticClass:"ml-1"},[t._v("Přihlášen jako:")])]),o("v-menu",{attrs:{top:"","open-on-hover":"",transition:"scale-transition",origin:"top","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[o("v-chip",t._g(t._b({staticClass:"align-self-center mb-4 mt-n2",attrs:{color:"#174085",dark:""}},"v-chip",i,!1),a),[o("v-avatar",{attrs:{left:""}},[o("v-icon",[t._v("mdi-account-circle")])],1),t._v(" "+t._s(t.getName)+" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.getPrezdivka,expression:"getPrezdivka"}],staticClass:"ml-1"},[t._v("("+t._s(t.getPrezdivka)+")")]),o("v-avatar",{attrs:{right:""}},[o("v-icon",[t._v("mdi-chevron-down")])],1)],1)]}}])},[o("v-list",[o("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.logout()}}},[o("v-list-item-title",[o("v-icon",{attrs:{left:""}},[t._v(t._s(t.logoutButton.icon))]),t._v(" "+t._s(t.logoutButton.title)+" ")],1)],1)],1)],1)]},proxy:!0}:{key:"append",fn:function(){return[o("div",{staticClass:"my-7"},[o("v-btn",{attrs:{dark:"",large:"",block:"",color:"#174085"},on:{click:function(e){return e.stopPropagation(),t.setLoginDialogForm(!0)}}},[o("v-icon",{attrs:{left:""}},[t._v(t._s(t.loginButton.icon))]),o("strong",[t._v(t._s(t.loginButton.title))])],1)],1)]},proxy:!0}],null,!0),model:{value:t.sideNav,callback:function(e){t.sideNav=e},expression:"sideNav"}},[o("v-list",{attrs:{dense:"",nav:""}},[t._l(t.menuItems,(function(e){return o("v-menu",{key:e.title,attrs:{rounded:"",transition:"scale-transition",origin:"top","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on,n=a.attrs;return[o("div",[o("v-btn",{attrs:{depressed:"",color:"#fff",router:"",to:e.link}},[o("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),o("strong",[t._v(t._s(e.title))])],1),e.subs?o("v-btn",t._g(t._b({attrs:{depressed:"",color:"#fff"},on:{click:function(t){e.chosen=!0}}},"v-btn",n,!1),i),[o("v-icon",[t._v("mdi-chevron-down")])],1):t._e()],1)]}}],null,!0)},[o("v-list",{directives:[{name:"show",rawName:"v-show",value:e.subs&&t.sideNav&&e.chosen,expression:"item.subs && sideNav && item.chosen"}]},t._l(e.subs,(function(e){return o("v-list-item",{key:e.title,attrs:{dense:"",outlined:"",router:"",to:e.link}},[o("v-list-item-title",[t._v(t._s(e.title))])],1)})),1)],1)})),t.isContributor?o("AdminNavbarPhone"):t._e()],2)],1),o("v-app-bar",{staticClass:"navigation",attrs:{app:"",color:"#f6a800",height:"64px","hide-on-scroll":!!t.$vuetify.breakpoint.mdAndDown}},[o("router-link",{staticStyle:{cursor:"pointer"},attrs:{to:{name:"Home"},tag:"span"}},[o("v-img",{staticClass:"shrink mr-3",attrs:{alt:"Skautské logo",contain:"",src:"https://res.cloudinary.com/dpcprmunp/image/upload/v1603563744/skaut_logo_0bedea165c.png",transition:"scale-transition",width:"40"}})],1),o("v-toolbar-title",[o("router-link",{staticClass:"title",staticStyle:{cursor:"pointer"},attrs:{to:{name:"Home"},tag:"span"}},[t._v("2. KATOLICKÝ ODDÍL TŘEBÍČ")])],1),o("v-spacer"),o("v-toolbar-items",{staticClass:"hidden-md-and-down"},[t._l(t.menuItems,(function(e){return o("v-menu",{key:e.title,attrs:{"open-on-hover":"",transition:"scale-transition",origin:"top","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(a){var i=a.on,n=a.attrs;return[o("v-btn",t._g(t._b({attrs:{depressed:"",color:"#f6a800",router:"",to:e.link}},"v-btn",n,!1),i),[o("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),o("strong",[t._v(t._s(e.title))])],1)]}}],null,!0)},[e.subs?o("v-list",t._l(e.subs,(function(e){return o("v-list-item",{key:e.title,attrs:{router:"",to:e.link}},[o("v-list-item-title",[t._v(t._s(e.title))])],1)})),1):t._e()],1)})),t.isLoggedIn?t._e():[o("v-btn",{attrs:{dark:"","min-width":"160px",depressed:"",color:"#0b0b0b"},on:{click:function(e){return e.stopPropagation(),t.setLoginDialogForm(!0)}}},[o("v-icon",{attrs:{left:""}},[t._v(t._s(t.loginButton.icon))]),o("strong",[t._v(t._s(t.loginButton.title))])],1)],t.isLoggedIn?[o("v-menu",{attrs:{"open-on-hover":"",transition:"scale-transition",origin:"top","offset-y":""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[o("v-chip",t._g(t._b({staticClass:"align-self-center ml-4",attrs:{color:"#222",dark:""}},"v-chip",i,!1),a),[o("v-avatar",{attrs:{left:""}},[o("v-icon",[t._v("mdi-account-circle")])],1),t._v(" "+t._s(t.getName)+" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.getPrezdivka,expression:"getPrezdivka"}],staticClass:"ml-1"},[t._v("("+t._s(t.getPrezdivka)+")")]),o("v-avatar",{attrs:{right:""}},[o("v-icon",[t._v("mdi-chevron-down")])],1)],1)]}}],null,!1,2533322182)},[o("v-list",[o("v-list-item",{on:{click:function(e){return e.stopPropagation(),t.logout()}}},[o("v-list-item-title",[o("v-icon",{attrs:{left:""}},[t._v(t._s(t.logoutButton.icon))]),t._v(" "+t._s(t.logoutButton.title)+" ")],1)],1)],1)],1)]:t._e()],2),o("v-app-bar-nav-icon",{staticClass:"hidden-lg-and-up",on:{click:function(e){return e.stopPropagation(),t.resetSideNav(e)}}})],1),t.isContributor?o("AdminNavbarPC"):t._e(),o("Login"),t.getJustLoggedIn?o("v-snackbar",{attrs:{timeout:2500},model:{value:t.isLoggedIn,callback:function(e){t.isLoggedIn=e},expression:"isLoggedIn"}},[t._v("Byli jste úspěšně přihlášeni.")]):t._e(),o("v-snackbar",{attrs:{timeout:2500},model:{value:t.isLoggedOut,callback:function(e){t.isLoggedOut=e},expression:"isLoggedOut"}},[t._v("Byli jste úspěšně odhlášeni.")]),o("v-snackbar",{attrs:{timeout:2100},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[o("v-btn",t._b({attrs:{color:"blue",text:""},on:{click:function(e){return t.$store.commit("setSaveSnackbar",!1)}}},"v-btn",a,!1),[t._v(" Close ")])]}}]),model:{value:t.saveSnackbar,callback:function(e){t.saveSnackbar=e},expression:"saveSnackbar"}},[t._v(" Změny byly úspěšně uloženy ")])],1)},l=[],r=(o("4160"),o("159b"),o("5530")),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{attrs:{justify:"center"}},[o("v-dialog",{attrs:{width:"504"},model:{value:t.loginDialogForm,callback:function(e){t.loginDialogForm=e},expression:"loginDialogForm"}},[o("LoginForm")],1),o("v-dialog",{attrs:{width:"500"},model:{value:t.loginDialogLoader,callback:function(e){t.loginDialogLoader=e},expression:"loginDialogLoader"}},[o("LoginLoader")],1)],1)},d=[],u=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{staticClass:"elevation-12",attrs:{width:"500"}},[o("v-toolbar",{attrs:{color:"#174085",dark:"",flat:""}},[o("v-toolbar-title",[t._v("Přihlášení")])],1),o("v-card-text",[o("v-form",[o("v-text-field",{attrs:{label:"Uživatelské jméno",name:"login","prepend-icon":"mdi-account",type:"text"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),o("v-text-field",{attrs:{id:"password",label:"Heslo",name:"password","prepend-icon":"mdi-lock","append-icon":t.passwordVisible?"mdi-eye-off":"mdi-eye",type:t.passwordVisible?"text":"password"},on:{"click:append":function(e){t.passwordVisible=!t.passwordVisible},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),o("v-alert",{staticClass:"mx-5",attrs:{value:t.wrongPassword,type:"error",dense:"",outlined:""}},[t._v("Zadali jste špatné jméno nebo heslo")]),o("v-card-actions",[o("v-spacer"),o("v-row",[o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-dialog",{attrs:{width:"400"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[o("v-btn",t._g(t._b({attrs:{text:"",color:"#174085",dark:""}},"v-btn",i,!1),a),[t._v("Zapomněl jsem heslo")])]}}]),model:{value:t.dialogForgotPassword,callback:function(e){t.dialogForgotPassword=e},expression:"dialogForgotPassword"}},[o("v-card",{staticClass:"forgot-password"},[o("v-card-title",{staticClass:"grey lighten-2"},[t._v("Zapomněl jsem heslo")]),o("v-card-text",{staticClass:"py-3"},[t._v("Přihlašovací údaje jste od nás obdrželi na začátku školního roku. V případě, že jste je zapomněli, kontaktujte prosím kteréhokoliv "),o("a",{attrs:{href:"/kontakt"}},[t._v("vedoucího")]),t._v(", rád Vám je sdělí.")]),o("v-divider"),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.dialogForgotPassword=!1}}},[t._v("OK")])],1)],1)],1)],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-btn",{attrs:{dark:"",color:"#174085"},on:{click:t.login}},[t._v("Přihlásit se")])],1)],1)],1)],1)},v=[],m=(o("b0c0"),{name:"LoginForm",props:["doNotApplyRedirect"],data:function(){return{passwordVisible:!1,dialogForgotPassword:!1}},methods:{login:function(){var t=this;this.$store.dispatch("login").then((function(e){console.log("reponse",e),console.log("loged successfully!! doNotApplyRedirect value = ",t.doNotApplyRedirect),t.$store.dispatch("setJwt",e.data.jwt),t.$store.dispatch("setName",e.data.user.jmeno),t.$store.dispatch("setPrezdivka",e.data.user.prezdivka),t.$store.dispatch("setRoleName",e.data.user.role.name),t.$store.dispatch("set_id",e.data.user._id),t.$store.dispatch("closeLoginDialog"),t.doNotApplyRedirect})).catch((function(e){console.log("Error 400: wrong username or password:",e),t.$store.commit("setLoginDialogLoader",!1),t.$store.commit("setWrongPassword",!0)}))},setLoginDialogLoader:function(t){this.$store.commit("setLoginDialogLoader",t)},setWrongPassword:function(t){this.$store.commit("setWrongPassword",t)}},computed:{username:{set:function(t){this.$store.commit("setUsername",t)},get:function(){return this.$store.getters.getUsername}},password:{set:function(t){this.$store.commit("setPassword",t)},get:function(){return this.$store.getters.getPassword}},wrongPassword:function(){return this.$store.getters.getWrongPassword}}}),p=m,f=(o("b18c"),o("2877")),g=o("6544"),h=o.n(g),k=o("0798"),b=o("8336"),_=o("b0af"),y=o("99d9"),w=o("62ad"),x=o("169a"),C=o("ce7e"),V=o("4bd4"),P=o("0fd9"),j=o("2fa4"),L=o("8654"),I=o("71d9"),z=o("2a7f"),D=Object(f["a"])(p,u,v,!1,null,"59d11ea8",null),S=D.exports;h()(D,{VAlert:k["a"],VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["c"],VCardTitle:y["d"],VCol:w["a"],VDialog:x["a"],VDivider:C["a"],VForm:V["a"],VRow:P["a"],VSpacer:j["a"],VTextField:L["a"],VToolbar:I["a"],VToolbarTitle:z["b"]});var O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{attrs:{color:"#174085",dark:""}},[o("v-card-text",[t._v(" Přihlašuji... "),o("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)},E=[],T={name:"LoginLoader",methods:{},computed:{}},$=T,A=o("8e36"),F=Object(f["a"])($,O,E,!1,null,null,null),N=F.exports;h()(F,{VCard:_["a"],VCardText:y["c"],VProgressLinear:A["a"]});var B={name:"Login",data:function(){return{}},methods:{},computed:{loginDialogForm:{set:function(){this.$store.dispatch("closeLoginDialog")},get:function(){return this.$store.getters.getLoginDialogForm}},loginDialogLoader:{set:function(){this.$store.dispatch("closeLoginDialog")},get:function(){return this.$store.getters.getLoginDialogLoader}}},components:{LoginForm:S,LoginLoader:N}},R=B,M=(o("ff8a"),Object(f["a"])(R,c,d,!1,null,"221b7600",null)),U=M.exports;h()(M,{VCard:_["a"],VDialog:x["a"]});var q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"upravyTitle mx-n5",attrs:{dark:""}},[t._v("Úpravy")]),t._l(t.editItems,(function(e){return o("div",{key:e.title,staticClass:"d-lg-none"},[o("v-btn",{attrs:{depressed:"",color:"#fff",router:"",to:e.link}},[o("v-icon",{attrs:{left:""}},[t._v(t._s(e.icon))]),o("strong",[t._v(t._s(e.title))])],1)],1)}))],2)},J=[],K={name:"AdminNavbarPhone",data:function(){return{}},computed:{items:function(){return this.$store.getters.getAdminMenu.items},editItems:function(){return this.$store.getters.getAdminMenu.editItems}}},H=K,Z=(o("b8af"),o("132d")),W=Object(f["a"])(H,q,J,!1,null,"4913016e",null),G=W.exports;h()(W,{VBtn:b["a"],VIcon:Z["a"]});var Y=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-navigation-drawer",{staticClass:"adminNavbar d-none d-lg-flex lgAndUp",attrs:{stateless:"",value:"true",width:"250px",color:"#444",left:"",absolute:"",dark:""}},[o("v-list",{staticClass:"py-0 ma-0",attrs:{dense:"",nav:""}},[o("v-list-item",{staticClass:"upravy py-0 pl-9 mx-n5"},[o("div",{staticClass:"upravyTitle"},[t._v("Úpravy")])]),t._l(t.editItems,(function(e){return o("v-list-item",{key:e.title,attrs:{to:e.link}},[o("v-list-item-icon",[o("v-icon",[t._v(t._s(e.icon))])],1),o("v-list-item-content",[o("v-list-item-title",[t._v(t._s(e.title))])],1)],1)}))],2)],1)},Q=[],X={name:"AdminNavbarPC",data:function(){return{model:3}},computed:{isContributor:function(){return this.$store.getters.isContributor},items:function(){return this.$store.getters.getAdminMenu.items},editItems:function(){return this.$store.getters.getAdminMenu.editItems}}},tt=X,et=(o("aecf"),o("8860")),ot=o("da13"),at=o("5d23"),it=o("34c3"),nt=o("f774"),st=Object(f["a"])(tt,Y,Q,!1,null,"5c60d61c",null),lt=st.exports;h()(st,{VIcon:Z["a"],VList:et["a"],VListItem:ot["a"],VListItemContent:at["a"],VListItemIcon:it["a"],VListItemTitle:at["c"],VNavigationDrawer:nt["a"]});var rt=o("2f62"),ct={data:function(){return{sideNav:!1,menuItems:[{icon:"mdi-newspaper-variant",title:"Aktuality",link:"/aktuality",subs:[{title:"Skauti",link:{name:"Aktuality",params:{oddil:"skauti"}}},{title:"Skautky",link:{name:"Aktuality",params:{oddil:"skautky"}}},{title:"Vlčata",link:{name:"Aktuality",params:{oddil:"vlcata"}}},{title:"Světlušky",link:{name:"Aktuality",params:{oddil:"svetlusky"}}},{title:"Roveři",link:{name:"Aktuality",params:{oddil:"roveri"}}},{title:"Oldskauti",link:{name:"Aktuality",params:{oddil:"oldskauti"}}}],chosen:!1},{icon:"mdi-image-multiple",title:"Fotografie",link:"/fotografie",subs:null},{icon:"mdi-account-group",title:"Kontakt",link:{name:"KontaktVedouci"},subs:[{title:"Skauti",link:{name:"Kontakt",params:{oddil:"skauti"}}},{title:"Skautky",link:{name:"Kontakt",params:{oddil:"skautky"}}},{title:"Vlčata",link:{name:"Kontakt",params:{oddil:"vlcata"}}},{title:"Světlušky",link:{name:"Kontakt",params:{oddil:"svetlusky"}}},{title:"Roveři",link:{name:"Kontakt",params:{oddil:"roveri"}}},{title:"Oldskauti",link:{name:"Kontakt",params:{oddil:"oldskauti"}}}],chosen:!1}],loginButton:{icon:"mdi-lock-open",title:"Přihlásit se"},logoutButton:{icon:"mdi-lock",title:"Odhlásit se"}}},methods:Object(r["a"])({resetSideNav:function(){this.sideNav=!this.sideNav,this.menuItems.forEach((function(t){t.chosen=!1}))}},Object(rt["b"])(["setLoginDialogForm","logout"])),computed:{isContributor:function(){return this.$store.getters.isContributor},isLoggedIn:{set:function(){},get:function(){return this.$store.getters.isLoggedIn}},isLoggedOut:{set:function(){},get:function(){return this.$store.getters.isLoggedOut}},getPostSaved:{set:function(){},get:function(){return this.$store.getters.getPostSaved}},getName:function(){return this.$store.getters.getName},getPrezdivka:function(){return this.$store.getters.getPrezdivka},getJustLoggedIn:function(){return this.$store.getters.getJustLoggedIn},saveSnackbar:{set:function(t){this.$store.commit("setSaveSnackbar",t)},get:function(){return this.$store.getters.getSaveSnackbar}}},components:{Login:U,AdminNavbarPhone:G,AdminNavbarPC:lt}},dt=ct,ut=(o("043e"),o("40dc")),vt=o("5bc1"),mt=o("8212"),pt=o("cc20"),ft=o("adda"),gt=o("e449"),ht=o("2db4"),kt=Object(f["a"])(dt,s,l,!1,null,"3c922b97",null),bt=kt.exports;h()(kt,{VAppBar:ut["a"],VAppBarNavIcon:vt["a"],VAvatar:mt["a"],VBtn:b["a"],VChip:pt["a"],VIcon:Z["a"],VImg:ft["a"],VList:et["a"],VListItem:ot["a"],VListItemTitle:at["c"],VMenu:gt["a"],VNavigationDrawer:nt["a"],VSnackbar:ht["a"],VSpacer:j["a"],VToolbarItems:z["a"],VToolbarTitle:z["b"]});var _t=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{attrs:{height:"100"}},[o("v-footer",{staticClass:"font-weight-medium",attrs:{absolute:""}},[o("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[o("v-btn",{attrs:{color:"#e8e8e8",elevation:"1","x-small":"",to:"/registrace"}},[t._v("Registrace pro vedoucí")]),t._v(" • "+t._s((new Date).getFullYear())+" • "),o("a",{attrs:{target:"_blank",href:"http://dominikjasek.skauting.cz/"}},[t._v("Dominik Jašek")])],1)],1)],1)},yt=[],wt=(o("9c11"),o("553a")),xt={},Ct=Object(f["a"])(xt,_t,yt,!1,null,"60ab657f",null),Vt=Ct.exports;h()(Ct,{VBtn:b["a"],VCard:_["a"],VCol:w["a"],VFooter:wt["a"]});var Pt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-overlay",{attrs:{value:t.getLoading}},[o("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)},jt=[],Lt={name:"LoadingScreen",computed:{getLoading:function(){return this.$store.getters.getLoading}}},It=Lt,zt=o("a797"),Dt=o("490a"),St=Object(f["a"])(It,Pt,jt,!1,null,"abc1464a",null),Ot=St.exports;h()(St,{VOverlay:zt["a"],VProgressCircular:Dt["a"]});var Et={name:"App",computed:{isContributor:function(){return this.$store.getters.isContributor}},components:{Navbar:bt,Footer:Vt,LoadingScreen:Ot}},Tt=Et,$t=(o("034f"),o("7496")),At=o("f6c4"),Ft=Object(f["a"])(Tt,i,n,!1,null,null,null),Nt=Ft.exports;h()(Ft,{VApp:$t["a"],VMain:At["a"]});o("45fc");var Bt=o("8c4f"),Rt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"home"},[o("WelcomeImage"),o("hr",{staticClass:"new5"}),o("AboutUs"),o("hr",{staticClass:"new5"}),o("Oddily")],1)},Mt=[],Ut=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"welcomeimage",class:{welcomeimageAdmin:t.isContributor}},[o("div",{staticClass:"logo",class:{logoAdmin:t.isContributor}},[o("img",{staticClass:"svg orange1",attrs:{src:"https://res.cloudinary.com/dpcprmunp/image/upload/v1603563353/oranz_vert_n2vnwd.svg",alt:"skautská lilie"}}),o("img",{staticClass:"svg orange2",attrs:{src:"https://res.cloudinary.com/dpcprmunp/image/upload/v1603563354/oranz_hor_gyzc6k.svg",alt:"skautská lilie"}}),o("img",{staticClass:"svg blue1",attrs:{src:"https://res.cloudinary.com/dpcprmunp/image/upload/v1603563337/modr_left_mzb1o6.svg",alt:"skautská lilie"}}),o("img",{staticClass:"svg blue2",attrs:{src:"https://res.cloudinary.com/dpcprmunp/image/upload/v1603563354/modr_right_q9r6bg.svg",alt:"skautská lilie"}}),o("img",{staticClass:"svg drak",attrs:{src:"https://res.cloudinary.com/dpcprmunp/image/upload/v1603562909/drak1_1eabb1eeaa.svg",alt:"skautská lilie"}}),o("img",{staticClass:"svg jazyk",attrs:{src:"https://res.cloudinary.com/dpcprmunp/image/upload/v1603562909/jazyk1_03787bdc97.svg",alt:"skautská lilie"}})]),o("div",{staticClass:"title",class:{titleAdmin:t.isContributor}},[o("h1",[t._v("SKAUT")]),o("h2",[t._v("2. Katolické oddíly")]),o("h3",[t._v("Třebíč")])])])},qt=[],Jt={computed:{isContributor:function(){return this.$store.getters.isContributor}}},Kt=Jt,Ht=(o("8fdb"),Object(f["a"])(Kt,Ut,qt,!1,null,"773433fb",null)),Zt=Ht.exports,Wt=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"aboutus"},[o("v-layout",{attrs:{row:"",wrap:"","justify-space-around":"","align-center":""}},[o("v-flex",{attrs:{xs12:"",md6:"","text-center":""}},[o("h1",[t._v("O NÁS")])]),o("v-flex",{staticClass:"popis",attrs:{xs12:"",md6:"","text-center":""}},[o("p",[t._v(" Jsme uskupení 6 skautských oddílů, které spolu úzce spolupracují, proto máme všichni shodné označení oddílu '2'. Každý oddíl se schází jednou týdně, jezdí na výpravy, skautské závody a tábor. Jsme katolické oddíly, proto se na schůzkách modlíme a snažíme se dbát na duchovní rozvoj dětí. ")])])],1)],1)},Gt=[],Yt={data:function(){return{sideNav:!1,menuItems:[{icon:"mdi-newspaper-variant",title:"Aktuality",link:"/aktuality"},{icon:"mdi-account-group",title:"O nás",link:"/about"},{icon:"mdi-flash",title:"Trafo",link:"/trafo"},{icon:"mdi-image-multiple",title:"Fotografie",link:"/fotografie"},{icon:"mdi-card-account-phone",title:"Kontakt",link:"/kontakt"}]}}},Qt=Yt,Xt=(o("f4ee"),o("a523")),te=o("0e8f"),ee=o("a722"),oe=Object(f["a"])(Qt,Wt,Gt,!1,null,"61832dd0",null),ae=oe.exports;h()(oe,{VContainer:Xt["a"],VFlex:te["a"],VLayout:ee["a"]});var ie=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"oddily"},[o("img",{staticClass:"logo-bg",attrs:{src:"https://res.cloudinary.com/dpcprmunp/image/upload/v1603563597/logo_bg_vkafrm.svg",alt:"logo_bg"}}),o("h1",[t._v("Oddíly")]),o("h3",[t._v("Patříme pod středisko Srdíčko Třebíč.")]),o("v-layout",{attrs:{row:"",wrap:"","justify-space-around":"","align-center":"",temporary:""}},t._l(t.oddily,(function(t){return o("v-flex",{key:t._id,attrs:{xl4:"",lg4:"",md6:"",sm6:"",xs12:"","mt-1":""}},[o("OddilCard",{attrs:{oddil:t}})],1)})),1)],1)},ne=[],se=(o("ac1f"),o("5319"),o("bc3a")),le=o.n(se),re=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.hover;return[o("v-card",{staticClass:"my-5 mx-auto pt-3 card",attrs:{"max-width":"344",elevation:a?12:7,raised:""}},[o("div",{staticClass:"brambora"},[o("img",{attrs:{src:"https://res.cloudinary.com/dpcprmunp/image/upload/v1603563592/brambora_vqicvu.svg",alt:"brambora",rotate:"5"}})]),o("div",{staticClass:"logo"},[o("img",{attrs:{src:t.oddil.logo.url,alt:t.oddil.nazev}})]),o("div",{staticClass:"rest"},[o("v-card-title",{staticStyle:{display:"block"}},[o("h2",[t._v(t._s(t.oddil.nazev))])]),o("v-card-subtitle",[t._v(t._s(t.oddil.vekova_skupina))]),o("v-card-actions",[o("v-btn",{attrs:{text:"",color:"#174085",router:"",to:{name:"Aktuality",params:{oddil:t.oddil.link}}}},[t._v("Aktuality")]),o("v-spacer"),o("v-btn",{attrs:{icon:""},on:{click:function(e){t.show=!t.show}}},[o("v-icon",[t._v(t._s(t.show?"mdi-chevron-up":"mdi-chevron-down"))])],1)],1),o("v-expand-transition",[o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}]},[o("v-divider"),o("v-card-text",[t._v(t._s(t.oddil.popis))])],1)])],1)])]}}])})},ce=[],de={name:"OddilCard",data:function(){return{show:!1}},props:["oddil"]},ue=de,ve=(o("91be"),o("0789")),me=o("ce87"),pe=Object(f["a"])(ue,re,ce,!1,null,"a3a75f26",null),fe=pe.exports;h()(pe,{VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardSubtitle:y["b"],VCardText:y["c"],VCardTitle:y["d"],VDivider:C["a"],VExpandTransition:ve["a"],VHover:me["a"],VIcon:Z["a"],VSpacer:j["a"]});var ge={data:function(){return{show:!1,oddily:[]}},created:function(){var t=this;le.a.get("/public-oddils").then((function(e){console.log("oddily loaded",e);var o=e.data;o.forEach((function(e){var o={};o.rot=Math.floor(Math.random()*Math.floor(360)),o.nazev=e.nazev,o.vekova_skupina=e.vekova_skupina,o.popis=e.popis,o.logo=e.logo,o.link=e.nazev.normalize("NFD").replace(/[\u0300-\u036f]/g,""),t.oddily.push(o)})),console.log("All oddily were successfully assigned.",t.oddily)})).catch((function(e){console.log(e),t.errors.push(e)}))},methods:{},components:{OddilCard:fe}},he=ge,ke=(o("f960"),Object(f["a"])(he,ie,ne,!1,null,"7b8e16c2",null)),be=ke.exports;h()(ke,{VContainer:Xt["a"],VFlex:te["a"],VLayout:ee["a"]});var _e={name:"Home",components:{WelcomeImage:Zt,AboutUs:ae,Oddily:be}},ye=_e,we=(o("8276"),Object(f["a"])(ye,Rt,Mt,!1,null,"4dd88e18",null)),xe=we.exports,Ce=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"my-3",attrs:{"grid-list-xs":"","text-center":""}},[t.id?o("div",[o("h1",{staticClass:"mb-0",attrs:{id:"Aktuality"}},[t._v("Kontakty na hlavní vedoucí")]),o("v-divider",{staticClass:"mb-2"}),o("KontaktOddil",{attrs:{oddil:t.id}})],1):o("div",[o("h1",[t._v("Kontakty na hlavní vedoucí")]),o("v-divider",{staticClass:"mb-2"}),o("KontaktVudci",{attrs:{"py-5":""}})],1),t.isContributor?o("p",[o("strong",[t._v("Tip:")]),t._v(" Pořadí vedoucích se řídí podle času poslední úpravy. Pro umístění na první místo aktualizuj beze změny daného vedoucího. ")]):t._e()])},Ve=[],Pe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"team py-2"},[o("v-container",{attrs:{"grid-list-xs":"","my-5":""}},[o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[o("v-btn",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:t.isContributor,expression:"isContributor"}],staticClass:"mb-5 mt-n3 editBtn",attrs:{fab:"",dark:"",color:"#174085"},on:{click:function(e){t.pickDialog=!0}}},"v-btn",i,!1),a),[o("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)]}}])},[o("span",[t._v("Přidat vedoucího")])]),o("v-layout",{attrs:{row:"",wrap:"","justify-space-around":"","align-center":"",temporary:""}},[t.loading?t._l(7,(function(t){return o("v-flex",{key:t,attrs:{xl3:"",lg4:"",md6:"",sm6:"",xs12:"","mt-1":""}},[o("PersonCardLoader")],1)})):t._l(t.main_contacts,(function(e){return o("v-flex",{key:e._id,attrs:{xl3:"",lg4:"",md6:"",sm6:"",xs12:"","mt-1":""}},[o("PersonCard",{attrs:{fotkaUrl:e.vedouci.fotka[0]?e.vedouci.fotka[0].url:"",jmeno:e.vedouci.jmeno,prezdivka:e.vedouci.prezdivka?e.vedouci.prezdivka:"",funkce:e.vedouci.funkce?e.vedouci.funkce:"",popis:e.vedouci.popis?e.vedouci.popis:"",email:e.vedouci.email?e.vedouci.email:"",telefon:e.vedouci.telefon?e.vedouci.telefon:"",facebook:e.vedouci.facebook?e.vedouci.facebook:"",_id:e.vedouci._id,showPossibleEditBtn:"isContributor"},on:{deleteItem:function(o){return t.deleteItem(e.id)}}})],1)}))],2)],1),o("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.pickDialog,callback:function(e){t.pickDialog=e},expression:"pickDialog"}},[o("v-card",[o("v-card-title",[t._v(" Přidat veřejný kontakt ")]),o("v-card-text",[o("v-select",{attrs:{items:t.vedoucis,label:"Vyberte vedoucího","item-text":"jmeno","item-value":"id"},model:{value:t.newVedouci,callback:function(e){t.newVedouci=e},expression:"newVedouci"}})],1),o("v-card-actions",[o("v-btn",{attrs:{color:"primary",text:"",to:{name:"CreateVedouciView",params:{oddil:null}}}},[t._v(" Nový ")]),o("v-spacer"),o("v-btn",{attrs:{color:"primary",disabled:null==t.newVedouci},on:{click:t.add}},[t._v(" Přidat ")])],1)],1)],1)],1)},je=[],Le=(o("4de4"),o("d3b7"),o("841c"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.hover;return[o("v-card",{staticClass:"my-5 mx-auto card",attrs:{"max-width":"344",elevation:a?12:7,raised:""}},[(t.local_img,o("v-img",{directives:[{name:"show",rawName:"v-show",value:t.fotkaUrl,expression:"fotkaUrl"}],staticClass:"white--text align-end fotka",attrs:{height:"300px",src:t.fotkaUrl}})),o("v-card-title",{directives:[{name:"show",rawName:"v-show",value:t.jmeno,expression:"jmeno"}],staticClass:"jmeno"},[o("div",{staticClass:"jmenoprijmeni"},[t._v(" "+t._s(t.jmeno)+" "),t.prezdivka?o("span",[t._v("("+t._s(t.prezdivka)+")")]):t._e()])]),o("v-card-subtitle",{directives:[{name:"show",rawName:"v-show",value:t.funkce,expression:"funkce"}],staticClass:"fce"},[t._v(t._s(t.funkce))]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.isContributor&&t.showPossibleEditBtn,expression:"isContributor && showPossibleEditBtn"}],staticClass:"text-xs-center"},[o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mb-2 mt-n2 mx-2 editBtn",attrs:{fab:"",dark:"",color:"#174085",to:{name:"EditVedouciView",params:{_id:t._id}}}},"v-btn",i,!1),a),[o("v-icon",{attrs:{dark:""}},[t._v("mdi-pencil")])],1)]}}],null,!0)},[o("span",[t._v("Upravit")])]),o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mb-2 mt-n2 mx-2 editBtn",attrs:{fab:"",dark:"",color:"error"},on:{click:t.deleteItem}},"v-btn",i,!1),a),[o("v-icon",{attrs:{dark:""}},[t._v("mdi-delete")])],1)]}}],null,!0)},[o("span",[t._v("Odstranit")])])],1),t.telefonParsed||t.email||t.popis?o("v-divider"):t._e(),o("v-card-actions",[o("div",{staticClass:"kontakt",attrs:{align:""}},[t.facebook?o("div",[o("v-btn",{attrs:{icon:"",target:"_blank",href:t.facebook}},[o("v-icon",[t._v("mdi-facebook")])],1)],1):t._e(),o("div",{directives:[{name:"show",rawName:"v-show",value:t.telefon,expression:"telefon"}],staticClass:"telefon"},[o("v-icon",{staticClass:"ml-1 mr-3"},[t._v("mdi-phone")]),t._v(" "+t._s(t.telefonParsed)+" ")],1),o("div",{directives:[{name:"show",rawName:"v-show",value:t.email,expression:"email"}],staticClass:"email"},[o("v-icon",{staticClass:"ml-1 mr-3"},[t._v("mdi-email")]),t._v(" "+t._s(t.email)+" ")],1)]),o("v-spacer"),o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[o("v-btn",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:t.popis,expression:"popis"}],attrs:{large:"",icon:""},on:{click:function(e){t.show=!t.show}}},"v-btn",i,!1),a),[o("v-icon",[t._v(t._s(t.show?"mdi-chevron-up":"mdi-chevron-down"))])],1)]}}],null,!0)},[t.show?o("span",[t._v("Skrýt popis")]):o("span",[t._v("Zobrazit popis")])])],1),o("v-expand-transition",[o("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"text-center"},[o("v-divider"),o("v-card-text",[t._v(t._s(t.popis))])],1)])],1)]}}])}),o("Confirm",{directives:[{name:"show",rawName:"v-show",value:t.loginConfirmation&&t.showPossibleEditBtn,expression:"loginConfirmation && showPossibleEditBtn"}],ref:"confirm"})],1)}),Ie=[],ze=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.cancel(e)}},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-card",[o("v-toolbar",{attrs:{dark:"",color:t.options.color,dense:"",flat:""}},[o("v-toolbar-title",{staticClass:"white--text"},[t._v(t._s(t.title))])],1),o("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}],staticClass:"pa-4"},[t._v(t._s(t.message))]),o("v-card-actions",{staticClass:"pt-0"},[o("v-spacer"),o("v-btn",{attrs:{color:"primary darken-1",text:""},nativeOn:{click:function(e){return t.agree(e)}}},[t._v("Ano")]),o("v-btn",{attrs:{color:"grey",text:""},nativeOn:{click:function(e){return t.cancel(e)}}},[t._v("Zrušit")])],1)],1)],1)},De=[],Se={data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"primary",width:290,zIndex:200}}},methods:{open:function(t,e,o){var a=this;return this.dialog=!0,this.title=t,this.message=e,this.options=Object.assign(this.options,o),new Promise((function(t,e){a.resolve=t,a.reject=e}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}},Oe=Se,Ee=Object(f["a"])(Oe,ze,De,!1,null,null,null),Te=Ee.exports;h()(Ee,{VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["c"],VDialog:x["a"],VSpacer:j["a"],VToolbar:I["a"],VToolbarTitle:z["b"]});var $e={name:"PersonCard",props:["fotkaUrl","jmeno","prezdivka","email","telefon","funkce","popis","facebook","_id","showPossibleEditBtn","local_img"],data:function(){return{loginConfirmation:!1,show:!1}},methods:{deleteItem:function(){var t=this;this.loginConfirmation=!0,this.$refs.confirm.open("Odstranit","Opravdu chcete odstranit vedoucího "+this.jmeno+" z tohoto seznamu?",{color:"error"}).then((function(e){e&&(console.log("emiting event to deleteItem"),t.$emit("deleteItem"))}))}},computed:{telefonParsed:function(){return this.telefon.replace(/(\d{3})/g,"$1 ").replace(/(^\s+|\s+$)/,"")},isContributor:function(){return this.$store.getters.isContributor}},components:{Confirm:Te}},Ae=$e,Fe=(o("bf87"),o("3a2f")),Ne=Object(f["a"])(Ae,Le,Ie,!1,null,"30b325aa",null),Be=Ne.exports;h()(Ne,{VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardSubtitle:y["b"],VCardText:y["c"],VCardTitle:y["d"],VDivider:C["a"],VExpandTransition:ve["a"],VHover:me["a"],VIcon:Z["a"],VImg:ft["a"],VSpacer:j["a"],VTooltip:Fe["a"]});var Re=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{staticClass:"my-5 mx-auto card",attrs:{"max-width":"344",height:"300",outlined:""}},[o("v-skeleton-loader",{attrs:{type:"image, list-item-two-line"}})],1)},Me=[],Ue={name:"PersonCardLoader"},qe=Ue,Je=o("3129"),Ke=Object(f["a"])(qe,Re,Me,!1,null,"c56d53f6",null),He=Ke.exports;h()(Ke,{VCard:_["a"],VSkeletonLoader:Je["a"]});var Ze={data:function(){return{newVedouci:null,pickDialog:!1,vedoucis:[],oddily:[],errors:[],main_contacts:[],loading:!0}},methods:{setLoading:function(t){this.$store.commit("setLoading",t)},compare:function(t,e){return t.vedouci.updatedAt>e.vedouci.updatedAt?-1:e.vedouci.updatedAt>t.vedouci.updatedAt?1:0},getMainVedoucis:function(){var t=this;return new Promise((function(e){le.a.get("/dulezity-vedoucis").then((function(o){t.main_contacts=[],o.data.forEach((function(e){console.log(e),t.main_contacts.push(e)})),t.main_contacts.sort(t.compare),t.getRestOfVedoucis(),console.log("main_contacts",t.main_contacts),t.loading=!1,e("OK")})).catch((function(e){t.errors.push(e),t.loading=!1}))}))},getRestOfVedoucis:function(){var t=this;le()({url:"/graphql",method:"post",data:{query:"\n        {\n          vedoucis {\n              jmeno,\n              id\n            }\n            }\n          "}}).then((function(e){console.log("vedoucis",e.data.data.vedoucis),t.vedoucis=e.data.data.vedoucis,t.vedoucis=t.vedoucis.filter((function(e){return t.search(e.id)}))})).catch((function(e){console.log(e),t.errors.push(e)}))},add:function(){var t=this;null!=this.newVedouci&&(this.pickDialog=!1,this.setLoading(!0),le.a.post("/dulezity-vedoucis",{vedouci:this.newVedouci}).then((function(e){console.log("new vedouci was added",e),t.getMainVedoucis(),t.newVedouci=null,t.setLoading(!1)})).catch((function(t){console.log("new vedouci was not added",t)}))),console.log("Adding vedouci with id =",this.newVedouci)},isInArray:function(t){this.main_contacts.forEach((function(e){if(t.id==e.vedouci.id)return!0}))},search:function(t){for(var e=0;e<this.main_contacts.length;e++)if(this.main_contacts[e].vedouci.id===t)return console.log("found"),!1;return!0},deleteItem:function(t){var e=this;this.setLoading(!0),console.log("deleting item",t),console.log("main_leaders",this.main_contacts),le.a.delete("/dulezity-vedoucis/"+t).then((function(t){console.log("dulezity vedouci deleted",t),e.getMainVedoucis(),e.setLoading(!1)})).catch((function(t){console.log("error while deleting dulezity vedouci",t)}))}},computed:{isContributor:function(){return this.$store.getters.isContributor}},created:function(){this.getMainVedoucis()},components:{PersonCard:Be,PersonCardLoader:He}},We=Ze,Ge=o("b974"),Ye=Object(f["a"])(We,Pe,je,!1,null,"9c922fcc",null),Qe=Ye.exports;h()(Ye,{VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["c"],VCardTitle:y["d"],VContainer:Xt["a"],VDialog:x["a"],VFlex:te["a"],VIcon:Z["a"],VLayout:ee["a"],VSelect:Ge["a"],VSpacer:j["a"],VTooltip:Fe["a"]});var Xe=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"team py-2"},[o("v-container",{attrs:{"grid-list-xs":"","my-2":""}},[o("h2",{staticClass:"mb-5"},[t._v(t._s(t.oddilNazev[t.oddil]))]),o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[o("v-btn",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:t.isContributor,expression:"isContributor"}],staticClass:"mb-5 editBtn",attrs:{fab:"",dark:"",color:"#174085",to:{name:"CreateVedouciView",params:{oddil:t.oddil}}}},"v-btn",i,!1),a),[o("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)]}}])},[o("span",[t._v("Vytvořit nového vedoucího")])]),o("v-layout",{attrs:{row:"",wrap:"","justify-space-around":"","align-center":"",temporary:""}},[t.loading?t._l(5,(function(t){return o("v-flex",{key:t,attrs:{xl3:"",lg4:"",md6:"",sm6:"",xs12:"","mt-1":""}},[o("PersonCardLoader")],1)})):t._l(t.vedouci,(function(e){return o("v-flex",{key:e._id,attrs:{xl3:"",lg4:"",md6:"",sm6:"",xs12:"","mt-1":""}},[o("PersonCard",{attrs:{fotkaUrl:e.fotka[0]?e.fotka[0].url:"",jmeno:e.jmeno,prezdivka:e.prezdivka?e.prezdivka:"",funkce:e.funkce?e.funkce:"",popis:e.popis?e.popis:"",email:e.email?e.email:"",telefon:e.telefon?e.telefon:"",facebook:e.facebook?e.facebook:"",_id:e._id,showPossibleEditBtn:"isContributor"},on:{deleteItem:function(o){return t.deleteItem(e._id)}}})],1)}))],2)],1)],1)},to=[],eo=["skauti","skautky","vlcata","svetlusky","roveri","oldskauti"],oo={skauti:"skauti",skautky:"skautky",vlcata:"vlčata",svetlusky:"světlušky",roveri:"roveři",oldskauti:"oldskauti"},ao={skauti:"#5b4db7",skautky:"#58b220","vlčata":"#f47c1f","světlušky":"#d3c900","roveři":"#d12121",oldskauti:"#42adc7"},io={oddilsUrlNames:eo,oddilDiacriticsObj:oo,colors:ao},no={name:"Kontakt",props:["oddil"],data:function(){return{vedouci:[],oddilNazev:{skauti:"2. oddíl skautů",skautky:"2. oddíl skautek",vlcata:"2. smečka vlčat",svetlusky:"2. roj světlušek",roveri:"2. oddíl roverů a rangers",oldskauti:"Rikitanova dvojka"},oddilDiacritics:io.oddilDiacriticsObj,loading:!0}},methods:{setLoading:function(t){this.$store.commit("setLoading",t)},getVedoucis:function(t){var e=this;le.a.get("/vedoucis?oddil.nazev="+t+"&_sort=updatedAt:desc").then((function(t){e.vedouci=t.data,console.log("vedoucis loaded",e.vedouci),e.loading=!1})).catch((function(t){e.errors.push(t),e.loading=!1}))},deleteItem:function(t){var e=this;this.setLoading(!0),console.log("deleting item",t),le.a.put("/vedoucis/"+t,{oddil:{_id:null}}).then((function(t){console.log("vedouci deleted",t),e.getVedoucis(e.oddilDiacritics[e.oddil]),e.setLoading(!1)})).catch((function(t){console.log("error while deleting dulezity vedouci",t)}))}},computed:{isContributor:function(){return this.$store.getters.isContributor}},watch:{oddil:function(t){this.getVedoucis(this.oddilDiacritics[t])}},created:function(){this.getVedoucis(this.oddilDiacritics[this.oddil])},components:{PersonCard:Be,PersonCardLoader:He}},so=no,lo=(o("28d0"),Object(f["a"])(so,Xe,to,!1,null,"61405450",null)),ro=lo.exports;h()(lo,{VBtn:b["a"],VContainer:Xt["a"],VFlex:te["a"],VIcon:Z["a"],VLayout:ee["a"],VTooltip:Fe["a"]});var co={name:"KontaktView",data:function(){return{id:this.$route.params.oddil}},computed:{isContributor:function(){return this.$store.getters.isContributor}},components:{KontaktVudci:Qe,KontaktOddil:ro},watch:{$route:function(t){this.id=t.params.oddil}}},uo=co,vo=(o("4256"),Object(f["a"])(uo,Ce,Ve,!1,null,"03e3589d",null)),mo=vo.exports;h()(vo,{VContainer:Xt["a"],VDivider:C["a"]});var po=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"mt-5"},[o("h1",[t._v(" Chybička se vloudila. Tato stránka neexistuje. ")])])},fo=[],go={name:".vue"},ho=go,ko=(o("b4f9"),Object(f["a"])(ho,po,fo,!1,null,"4a2d005e",null)),bo=ko.exports;h()(ko,{VContainer:Xt["a"]});var _o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"my-3",attrs:{"grid-list-xs":""}},[o("h1",{staticClass:"mb-0",attrs:{id:"Aktuality"}},[t._v("Aktuality")]),o("v-btn",{staticClass:"my-3 white--text",attrs:{color:"#174085",to:{name:"CreatePost"}}},[o("v-icon",{staticClass:"pr-2"},[t._v("mdi-message-draw")]),t._v("Vytvořit příspěvek")],1),o("v-divider",{staticClass:"mb-2"}),o("v-container",{staticClass:"subtitle",attrs:{"grid-list-xs":""}},[o("v-row",[o("v-layout",{attrs:{row:"",wrap:""}},[o("v-flex",{staticClass:"filtrtitle",attrs:{xs12:"",sm12:"",md4:"",lg3:"",xl3:""}},[t._v("Filtrovat aktuality pro oddíly:")]),o("v-flex",{attrs:{xs12:"",sm12:"",md8:"",lg9:"",xl9:""}},[o("v-row",{staticClass:"mb-2 mx-2 checkboxes",attrs:{justify:"space-around"}},[o("v-checkbox",{staticClass:"black--text mx-2",attrs:{color:t.colors["skauti"],label:"skauti",value:"skauti"},on:{change:function(e){return t.checkBoxChange()}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),o("v-checkbox",{staticClass:"black--text mx-2",attrs:{color:t.colors["skautky"],label:"skautky",value:"skautky"},on:{change:function(e){return t.checkBoxChange()}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),o("v-checkbox",{staticClass:"black--text mx-2",attrs:{color:t.colors["vlčata"],label:"vlčata",value:"vlčata"},on:{change:function(e){return t.checkBoxChange()}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),o("v-checkbox",{staticClass:"black--text mx-2",attrs:{color:t.colors["světlušky"],label:"světlušky",value:"světlušky"},on:{change:function(e){return t.checkBoxChange()}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),o("v-checkbox",{staticClass:"black--text mx-2",attrs:{color:t.colors["roveři"],label:"roveři",value:"roveři"},on:{change:function(e){return t.checkBoxChange()}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),o("v-checkbox",{staticClass:"black--text mx-2",attrs:{color:t.colors["oldskauti"],label:"oldskauti",value:"oldskauti"},on:{change:function(e){return t.checkBoxChange()}},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)],1)],1)],1),o("v-layout",{directives:[{name:"show",rawName:"v-show",value:!t.loaded,expression:"!loaded"}],attrs:{row:"",wrap:"","justify-space-around":"","align-center":"",temporary:""}},t._l(Array(5),(function(t){return o("v-flex",{key:t,attrs:{xl12:"",lg12:"",md12:"",sm12:"",xs12:"","mt-2":"","mb-5":""}},[o("AktualitaPreviewLoader")],1)})),1),o("v-layout",{directives:[{name:"show",rawName:"v-show",value:t.loaded,expression:"loaded"}],attrs:{row:"",wrap:"","justify-space-around":"","align-center":"",temporary:""}},[t._l(t.aktuality,(function(e){return o("v-flex",{key:e._id,attrs:{xl12:"",lg12:"",md12:"",sm12:"",xs12:"","mt-1":""}},[o("AktualitaPreview",{staticClass:"my-3",attrs:{aktualita:e,selected:t.selected,colors:t.colors}})],1)})),o("v-pagination",{attrs:{length:t.pagesCount,"total-visible":9,color:"#174085"},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],2)],1)},yo=[],wo=(o("caad"),o("2532"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-hover",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.hover;return[o("v-card",{staticClass:"mx-auto",attrs:{outlined:"",elevation:a?8:4,raised:""}},[o("v-list-item",{attrs:{"three-line":""}},[o("v-list-item-content",[t.aktualita.obrazek?o("v-list-item-avatar",{staticClass:"hidden-sm-and-up",attrs:{tile:"","max-height":"150px","max-width":"150px",size:"150",color:"grey"}},[o("v-img",{attrs:{src:t.aktualita.obrazek.url}})],1):t._e(),o("div",{staticClass:"mb-4 rubrika"},t._l(t.aktualita.oddils,(function(e,a){return o("v-chip",{key:a,staticClass:"chip",attrs:{color:t.inSelected(e.nazev)?t.colors[e.nazev]:"default",dark:!!t.inSelected(e.nazev),small:""}},[t._v(t._s(e.nazev))])})),1),o("div",{staticClass:"nadpis headline"},[t._v(t._s(t.aktualita.nadpis))]),o("div",{staticClass:"infoBox mt-2"},[o("span",{staticClass:"datum mb-4"},[t._v(t._s(t.aktualita.createdAtCET.getDate())+". "+t._s(t.aktualita.createdAtCET.getMonth())+". "+t._s(t.aktualita.createdAtCET.getFullYear())+", "+t._s(t.aktualita.createdAtCET.getHours())+":"+t._s(t.getMinutes(t.aktualita)))]),o("v-chip",{staticClass:"ml-2 autorChip",attrs:{color:"default","text-color":"#555",small:""}},[o("v-avatar",{attrs:{left:""}},[o("v-icon",[t._v("mdi-account-circle")])],1),t._v(" "+t._s(t.aktualita.autor.jmeno)+" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.aktualita.autor.prezdivka,expression:"aktualita.autor.prezdivka"}],staticClass:"ml-1"},[t._v("("+t._s(t.aktualita.autor.prezdivka)+")")])],1)],1),o("v-list-item-subtitle",{staticClass:"text mt-5"},[t._v(t._s(t.text))])],1),t.aktualita.obrazek?o("v-list-item-avatar",{staticClass:"d-none d-sm-flex",attrs:{tile:"",size:"160",color:"grey"}},[o("v-img",{attrs:{src:t.aktualita.obrazek.url}})],1):t._e()],1),o("v-card-actions",[o("v-spacer"),t.isContributor?o("v-btn",{staticClass:"px-4 mx-2 mb-2 white--text",attrs:{large:"",color:"#174085",to:{name:"EditPost",params:{slug:t.aktualita.slug}}}},[o("v-icon",{staticClass:"mr-1"},[t._v("mdi-pencil")]),t._v("Upravit")],1):t._e(),o("v-btn",{staticClass:"px-5 mx-2 mb-2",attrs:{large:"",dark:"",color:"#174085",to:{name:"Post",params:{slug:t.aktualita.slug}}}},[t._v("Zobrazit")])],1)],1)]}}])})}),xo=[],Co={data:function(){return{}},name:"AktualitaPreview",props:["aktualita","selected","colors"],methods:{inSelected:function(t){return this.selected.includes(t)},getMinutes:function(t){return(t.createdAtCET.getMinutes()<10?"0":"")+t.createdAtCET.getMinutes()},_removeMarkDown:function(t){var e=o("b5c1");return e(t)}},computed:{isContributor:function(){return this.$store.getters.isContributor}},created:function(){this.text=this._removeMarkDown(this.aktualita.text)}},Vo=Co,Po=(o("4fb6"),o("8270")),jo=Object(f["a"])(Vo,wo,xo,!1,null,"38f441ac",null),Lo=jo.exports;h()(jo,{VAvatar:mt["a"],VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VChip:pt["a"],VHover:me["a"],VIcon:Z["a"],VImg:ft["a"],VListItem:ot["a"],VListItemAvatar:Po["a"],VListItemContent:at["a"],VListItemSubtitle:at["b"],VSpacer:j["a"]});var Io=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{staticClass:"mx-auto pa-4",attrs:{outlined:""}},[o("v-skeleton-loader",{staticClass:"mx-auto my-3",attrs:{type:"chip, card-heading, text@2, actions"}})],1)},zo=[],Do={name:"AktualitaPreviewLoader"},So=Do,Oo=Object(f["a"])(So,Io,zo,!1,null,"b0ccdb12",null),Eo=Oo.exports;h()(Oo,{VCard:_["a"],VSkeletonLoader:Je["a"]});var To={name:"Aktuality",data:function(){return{loaded:!1,colors:io.colors,ableToScroll:!1,oddilDiacriticsObj:io.oddilDiacriticsObj,fullSelected:["skauti","skautky","vlčata","světlušky","roveři","oldskauti"],selected:[],id:"",aktuality:[],aktualityTotalCount:0,page:1,aktualityPerPage:6}},computed:{queryStringGeneral:function(){var t="";return this.selected.forEach((function(e){t+="oddils.nazev="+e+"&"})),t},queryStringSpecific:function(){var t=this.queryStringGeneral+"_start="+this.startFrom+"&_limit="+this.aktualityPerPage+"&_sort=createdAt:DESC";return t},pagesCount:function(){return Math.ceil(this.aktualityTotalCount/this.aktualityPerPage)},startFrom:function(){return(this.page-1)*this.aktualityPerPage},options:function(){return{duration:this.duration,offset:this.offset,easing:this.easing}}},watch:{page:function(){this.getAktuality()},$route:function(){this.acceptParams()}},methods:{getAktualityCount:function(){var t=this;le.a.get("/aktualitas/count?"+this.queryStringGeneral).then((function(e){t.aktualityTotalCount=e.data,console.log("pocet aktualit:",t.aktualityTotalCount)})).catch((function(e){t.errors.push(e)}))},getAktuality:function(){var t=this;le.a.get("/aktualitas?"+this.queryStringSpecific).then((function(e){console.log("axios response received new aktuality"),t.aktuality=e.data,t.aktuality.forEach(t.convertTimeToCET),t.loaded=!0,console.log("before setTiemout"),t.ableToScroll=!0})).catch((function(e){t.errors.push(e)}))},convertTimeToCET:function(t){t.createdAtCET=new Date(t.createdAt)},checkBoxChange:function(){this.selected.length?(this.page=1,this.getAktualityCount(),this.getAktuality()):this.aktuality=[]},onScroll:function(t){"undefined"!==typeof window&&(window.pageYOffset||t.target.scrollTop)},toTop:function(){console.log("going to top"),this.$vuetify.goTo(0)},acceptParams:function(){this.id=this.oddilDiacriticsObj[this.$route.params.oddil],this.fullSelected.includes(this.id)?this.selected=[this.id]:this.selected=this.fullSelected,this.checkBoxChange()}},created:function(){this.acceptParams()},updated:function(){this.ableToScroll&&(this.toTop(),this.ableToScroll=!1)},components:{AktualitaPreview:Lo,AktualitaPreviewLoader:Eo}},$o=To,Ao=(o("4ef0"),o("ac7c")),Fo=o("891e"),No=Object(f["a"])($o,_o,yo,!1,null,"71f1710e",null),Bo=No.exports;h()(No,{VBtn:b["a"],VCheckbox:Ao["a"],VContainer:Xt["a"],VDivider:C["a"],VFlex:te["a"],VIcon:Z["a"],VLayout:ee["a"],VPagination:Fo["a"],VRow:P["a"]});var Ro=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"my-3",attrs:{"grid-list-xs":""}},[o("h1",{staticClass:"mb-0",attrs:{id:"Aktuality"}},[t._v("Fotografie")]),o("v-divider",{staticClass:"mb-2"}),o("p",{staticClass:"mt-5"},[t._v("Prosíme o nešíření odkazů dál.")]),o("div",{staticClass:"mt-15 d-flex flex-wrap justify-space-around"},[o("v-btn",{staticClass:"white--text my-2",attrs:{color:t.colors["skauti"],rounded:"",href:"https://www.zonerama.com/2oddilskautu",target:"_blank"}},[t._v("Skauti")]),o("v-btn",{staticClass:"white--text my-2",attrs:{color:t.colors["skautky"],rounded:"",href:"https://skautky2.rajce.idnes.cz/",target:"_blank"}},[t._v("Skautky")]),o("v-btn",{staticClass:"white--text my-2",attrs:{color:t.colors["vlčata"],rounded:"",href:"https://www.zonerama.com/KarelJanicek/795748",target:"_blank"}},[t._v("Vlčata")]),o("v-btn",{staticClass:"white--text my-2",attrs:{color:t.colors["světlušky"],rounded:"",href:"https://svetluskytrebic.rajce.idnes.cz/",target:"_blank"}},[t._v("Světlušky")]),o("v-btn",{staticClass:"white--text my-2",attrs:{color:t.colors["roveři"],rounded:"",href:"https://www.zonerama.com/RR2oddil/796874",target:"_blank"}},[t._v("Roveři")]),o("v-btn",{staticClass:"white--text my-2",attrs:{color:t.colors["oldskauti"],rounded:"",href:"https://www.zonerama.com/KatkaJanickova/837732",target:"_blank"}},[t._v("Oldskauti")])],1)],1)},Mo=[],Uo={name:"Photos",data:function(){return{colors:io.colors}}},qo=Uo,Jo=(o("077c"),Object(f["a"])(qo,Ro,Mo,!1,null,"806fd6ac",null)),Ko=Jo.exports;h()(Jo,{VBtn:b["a"],VContainer:Xt["a"],VDivider:C["a"]});var Ho=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"my-15 cont",attrs:{"grid-list-xs":"","align-center":""}},[o("h2",[t._v("Tento obsah je přístupný pouze pro členy našich oddílů. Pro jeho zobrazení se prosím přihlaste.")]),o("v-col",{attrs:{align:"center"}},[o("LoginForm",{staticClass:"my-5"}),o("v-dialog",{attrs:{width:"500"},model:{value:t.loginDialogLoader,callback:function(e){t.loginDialogLoader=e},expression:"loginDialogLoader"}},[o("LoginLoader")],1)],1)],1)},Zo=[],Wo={name:"LoginRequired",components:{LoginForm:S,LoginLoader:N},created:function(){},computed:{loginDialogLoader:{set:function(){this.$store.dispatch("closeLoginDialog")},get:function(){return this.$store.getters.getLoginDialogLoader}}}},Go=Wo,Yo=(o("e3ef"),Object(f["a"])(Go,Ho,Zo,!1,null,"4ed45541",null)),Qo=Yo.exports;h()(Yo,{VCol:w["a"],VContainer:Xt["a"],VDialog:x["a"]});var Xo=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"py-8",attrs:{"grid-list-xs":""}},[o("h1",[t._v("Nástěnka")]),o("v-row",{attrs:{justify:"space-around"}},[o("v-col",{staticClass:"px-200",attrs:{cols:"12",md:"6"}},[o("Features")],1),o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-card",{staticClass:"pa-4 mb-5",attrs:{elevation:"4"}},[o("h2",[t._v("Instruktážní video")]),o("p",[t._v(" V tomto videu najdete všechny základní funkce týkající se skautského webu. ")]),o("section",{staticClass:"video-container"},[o("iframe",{staticClass:"video",attrs:{src:"https://www.youtube.com/embed/SBjQ9tuuTJQ",frameborder:"0",height:"200px",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"}})])]),o("v-card",{staticClass:"pa-4 my-5",attrs:{elevation:"4"}},[o("h2",[t._v("Administrátor")]),o("v-card-subtitle",[o("p",[t._v("Tyto webové stránky vytvořil Dominik Jašek (Šíša). V případě jakýchkoliv dotazů mě kontaktujte na telefonu "),o("a",{attrs:{href:"tel:00420-732-181-317"}},[t._v("732 181 317")]),t._v(" nebo na "),o("v-btn",{attrs:{icon:"",href:"https://www.facebook.com/dominikjasekk"}},[o("v-icon",{staticClass:"mb-1"},[t._v("mdi-facebook")])],1),t._v(".")],1),o("p",[t._v('Vše dělám ve svém volném čase, tudíž se předem omlouvám za moje výmluvy typu "'),o("i",[t._v("sorry, nemám teď vůbec čas")]),t._v('". Nenechte se ale zastrašit a perte to do mě, já si s tím nějak poradím 🙂')])])],1)],1)],1)],1)},ta=[],ea=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-card",{staticClass:"pa-4 mb-5",attrs:{elevation:"4"}},[o("div",[o("h2",[t._v("Implementované funkce")]),o("p",[t._v("Následující funkce se mi podařilo přidat na web:")]),t._l(t.features.done,(function(e,a){return o("v-card",{key:a,staticClass:"my-1",attrs:{elevation:"2"}},[o("v-card-subtitle",[o("span",[t._v(" ✔️ "+t._s(e.popis)+" ("+t._s(t.getDate(e.updatedAt))+")")])])],1)})),o("br"),o("br"),o("h2",[t._v("Plánované funkce")]),o("p",[t._v("Tyto funkce plánuji přidat. Můžete přidat také vlastní požadavek na novou funkci na webu. Prosím o konkrétní popis problému, aby pro mě bylo jasné, o co se jedná.")]),t._l(t.features.notdone,(function(e,a){return o("v-card",{key:"A"+a,staticClass:"my-1",attrs:{elevation:"2"}},[o("v-card-subtitle",[o("span",[t._v(" ❌ "+t._s(e.popis))])])],1)})),o("v-card",{staticClass:"my-1 ",attrs:{elevation:"2"}},[o("v-card-subtitle",[o("v-text-field",{attrs:{counter:"100",label:"Požadavek na novou funkci"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.saveNewFeature(e)}},model:{value:t.newFeatureText,callback:function(e){t.newFeatureText=e},expression:"newFeatureText"}}),o("div",{staticClass:"d-flex justify-end mt-4"},[o("v-btn",{staticClass:"white--text",attrs:{loading:t.uploading,color:"#174085"},on:{click:t.saveNewFeature}},[t._v("Přidat")])],1)],1)],1)],2)])},oa=[],aa={name:"Features",data:function(){return{features:{done:[],notdone:[]},show:!1,newFeatureText:"",uploading:!1}},methods:{getDate:function(t){var e=new Date(t);return e.toLocaleDateString("cs-CS")},saveNewFeature:function(){var t=this;this.newFeatureText&&(console.log("saving new feature"),this.uploading=!0,le.a.post("/features",{popis:this.newFeatureText}).then((function(e){console.log("res",e),t.uploading=!1,t.features.notdone.push(e.data),t.newFeatureText=""})).catch((function(e){console.log("posting new feautre was not successfull",e),t.uploading=!1})))},getFeatures:function(){var t=this;le.a.get("/features").then((function(e){console.log("features",e.data),e.data.forEach((function(e){e.done?t.features.done.push(e):t.features.notdone.push(e)}))}))}},created:function(){this.getFeatures()}},ia=aa,na=Object(f["a"])(ia,ea,oa,!1,null,"37d9319d",null),sa=na.exports;h()(na,{VBtn:b["a"],VCard:_["a"],VCardSubtitle:y["b"],VTextField:L["a"]});var la={name:"Noticeboard",components:{Features:sa}},ra=la,ca=(o("76e2"),Object(f["a"])(ra,Xo,ta,!1,null,"2d9b8cf6",null)),da=ca.exports;h()(ca,{VBtn:b["a"],VCard:_["a"],VCardSubtitle:y["b"],VCol:w["a"],VContainer:Xt["a"],VIcon:Z["a"],VRow:P["a"]});var ua=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[o("v-container",{attrs:{"grid-list-xs":""}},[t.editView?o("h1",{staticClass:"my-5"},[t._v("Editovat příspěvek")]):o("h1",{staticClass:"my-5"},[t._v("Vytvořit příspěvek")]),o("v-divider"),o("h2",{staticClass:"mt-5 nadpis"},[t._v("Název")]),o("v-text-field",{attrs:{rules:t.textRules,required:"",label:"Nadpis"},model:{value:t.post.nadpis,callback:function(e){t.$set(t.post,"nadpis",e)},expression:"post.nadpis"}}),o("h2",{staticClass:"mt-2 nadpis"},[t._v("oddíl(y)")]),o("v-chip-group",{staticClass:"mb-4",attrs:{column:"",multiple:""},model:{value:t.post.selectedIndexes,callback:function(e){t.$set(t.post,"selectedIndexes",e)},expression:"post.selectedIndexes"}},t._l(t.oddily,(function(e,a){return o("v-chip",{key:a,attrs:{filter:"",outlined:""}},[t._v(t._s(e.nazev))])})),1),o("v-alert",{directives:[{name:"show",rawName:"v-show",value:t.showHintLbl,expression:"showHintLbl"}],attrs:{dense:"",type:"error"}},[t._v("Zvolte alespoň jeden oddíl")]),o("h2",{staticClass:"mt-5 nadpis"},[t._v("Náhledový obrázek")]),o("v-file-input",{attrs:{"show-size":"",accept:"image/*",label:"Náhledový obrázek"},model:{value:t.post.thumbnail,callback:function(e){t.$set(t.post,"thumbnail",e)},expression:"post.thumbnail"}}),o("h2",{staticClass:"mt-0 nadpis"},[t._v("Text")]),o("tiptap-vuetify",{attrs:{extensions:t.extensions},model:{value:t.post.content,callback:function(e){t.$set(t.post,"content",e)},expression:"post.content"}}),t.editView?[o("h2",{staticClass:"mt-5 nadpis"},[t._v("Nahrát nové přílohy")]),o("v-file-input",{attrs:{"show-size":"",multiple:"",accept:"*",label:"Soubory"},model:{value:t.post.newfiles,callback:function(e){t.$set(t.post,"newfiles",e)},expression:"post.newfiles"}})]:[o("h2",{staticClass:"mt-5 nadpis"},[t._v("Přílohy")]),o("v-file-input",{attrs:{"show-size":"",multiple:"",accept:"*",label:"Soubory"},model:{value:t.post.files,callback:function(e){t.$set(t.post,"files",e)},expression:"post.files"}})],null!=t.post.files?o("FilesToDownload",{attrs:{priloha:t.post.files,showDeleteBtn:!0}}):t._e(),o("v-divider",{staticClass:"my-4"}),t.editView?o("v-alert",{attrs:{dense:"",border:"top","colored-border":"",type:"info",elevation:"2"}},[t._v("Emaily již byly odeslány a po uložení nebudou poslány znovu.")]):o("v-alert",{attrs:{dense:"",large:"",border:"top","colored-border":"",type:"info",elevation:"2"}},[t._v("Po uložení příspěvku se odešlou emaily rodičům.")]),o("v-btn",{staticClass:"white--text",attrs:{disabled:!t.valid,color:"#174085"},on:{click:t.publish}},[t._v("Uložit")]),t.editView?o("v-btn",{staticClass:"white--text mx-5",attrs:{color:"error"},on:{click:t.deletePost}},[t._v("Smazat")]):t._e()],2),o("Confirm",{ref:"confirm"})],1)},va=[],ma=(o("c740"),o("d81d"),o("3ca3"),o("ddb0"),function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("v-divider",{staticClass:"mb-5"}),o("strong",[t._v("Soubory ke stažení:")]),t._l(t.priloha,(function(e,a){return o("div",{key:a,staticClass:"downloadItem py-1 my-3"},[t._v(" "+t._s(e.name)+" "),o("span",{staticClass:"size"},[t._v("— "+t._s(t.printFileSize(e.size)))]),o("v-btn",{staticClass:"ml-3",attrs:{dark:"",color:"#f6a800",small:"",href:e.url}},[o("v-icon",[t._v("mdi-download")]),t._v("Stáhnout ")],1),t.showDeleteBtn?o("v-btn",{staticClass:"ml-3",attrs:{dark:"",color:"error",small:""},on:{click:function(o){return t.deleteFile(e._id)}}},[o("v-icon",[t._v("mdi-delete")]),t._v("Smazat ")],1):t._e()],1)})),o("Confirm",{ref:"confirm"})],2)}),pa=[],fa=(o("a434"),{name:"FilesToDownload",data:function(){return{}},methods:{printFileSize:function(t){if(t){t<1e3&&(t*=1e3);var e=t<1e6?"kB":"MB";return t=t>1e6?Math.ceil(t/1e6):Math.ceil(t/1e3),t+" "+e}return""},deleteFile:function(t){var e=this;console.log("trying to delete file",t),this.$refs.confirm.open("Odstranit","Opravdu chcete tento soubor smazat? Soubor bude trvale vymazán.",{color:"error"}).then((function(o){o&&le.a.delete("/upload/files/"+t).then((function(o){console.log("the file was deleted successfully",o);var a=e.priloha.findIndex((function(e){return e._id==t}));e.priloha.splice(a,1)})).catch((function(t){console.log("FAIL! File was not deleted..."),console.log(t)}))}))}},props:["priloha","showDeleteBtn"],components:{Confirm:Te}}),ga=fa,ha=Object(f["a"])(ga,ma,pa,!1,null,"1df42740",null),ka=ha.exports;h()(ha,{VBtn:b["a"],VDivider:C["a"],VIcon:Z["a"]});var ba=o("3f38"),_a={name:"EditPostView",data:function(){return{post:{nadpis:"",files:null,file_IDs:[],thumbnail:null,thumbnail_ID:"",original:{files:[],thumbnail:""},selectedOddily:[],selectedIndexes:[],content:"",md:""},oddily:[],showHintLbl:!1,editView:!1,valid:!0,textRules:[function(t){return t?!/[.]/g.test(t)||"Nadpis nesmí obsahovat tečku":"Toto pole je povinné"}],extensions:[[ba["f"],{options:{levels:[1,2,3]}}],ba["g"],ba["a"],ba["j"],ba["q"],ba["n"],ba["b"],ba["i"],ba["k"],ba["c"],ba["l"],ba["d"],ba["h"],ba["m"],ba["e"]]}},methods:{publish:function(){var t=this;this.getSelectedOddily(),this.validate()&&(this.editView?(console.log("trying to update post",this.post),this.setLoading(!0),this.convertToMarkDown(),this.uploadNewFiles().then((function(){le.a.put("/aktualitas/"+t.post._id,t.getDataObject).then((function(e){t.setLoading(!1),console.log("put update successfull",e)})).catch((function(e){t.setLoading(!1),console.log("put update FAILURE",e)}))}))):(console.log("trying to publish post"),this.setLoading(!0),this.convertToMarkDown(),this.uploadFiles().then((function(){le.a.post("/aktualitas",t.getDataObject).then((function(e){t.setLoading(!1),console.log(e)})).catch((function(e){t.setLoading(!1),console.log("post FAILURE",e)}))}))))},hasSpecialCharacters:function(t){return/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g.test(t)},validate:function(){var t=this.$refs.form.validate(),e=this.post.selectedOddily.length>0;return e||(this.showHintLbl=!0),!(!e||!t)},deletePost:function(){var t=this;this.$refs.confirm.open("Odstranit","Opravdu chcete smazat tento příspěvek? Všechny jeho soubory budou také smazány",{color:"error"}).then((function(e){e&&(t.post.files&&t.post.files.forEach((function(e){t.$store.dispatch("deleteFile",e.id)})),t.post.thumbnail&&t.$store.dispatch("deleteFile",t.post.thumbnail.id),t.$store.dispatch("deletePost",t.post._id).then((function(){})))}))},uploadNewFiles:function(){var t=this;return new Promise((function(e){var o=[];if(void 0==t.post.thumbnail)""!=t.post.original.thumbnail&&(t.$store.dispatch("deleteFile",t.post.original.thumbnail.id),t.post.thumbnail_ID=null);else if(""!=t.post.original.thumbnail){if(t.post.original.thumbnail.id!=t.post.thumbnail.id){t.$store.dispatch("deleteFile",t.post.original.thumbnail.id);var a=t.uploadFile(t.post.thumbnail).then((function(e){t.post.thumbnail_ID=e.id}));o.push(a)}}else{var i=t.uploadFile(t.post.thumbnail).then((function(e){t.post.thumbnail_ID=e.id}));o.push(i)}t.post.newfiles&&t.post.newfiles.forEach((function(e){console.log("trying to upload new file",e);var a=t.uploadFile(e).then((function(e){console.log("res - new file uploaded",e),t.post.file_IDs.push(e.id)}));o.push(a)})),Promise.all(o).then((function(){console.log("all new files uploaded successfully"),console.log(t.post),e()}))}))},uploadFiles:function(){var t=this;return new Promise((function(e){var o=[];if(null!=t.post.thumbnail){console.log("publishing thumbnail",t.post.thumbnail);var a=t.uploadFile(t.post.thumbnail).then((function(e){console.log("res",e),t.post.thumbnail_ID=e.id,console.log("thumbnail_ID",t.thumbnail_ID)}));o.push(a)}null!=t.post.files&&t.post.files.forEach((function(e){var a=t.uploadFile(e).then((function(e){console.log("res",e),t.post.file_IDs.push(e.id)}));o.push(a)})),Promise.all(o).then((function(){console.log("all successfull"),console.log(t.post),e()}))}))},uploadFile:function(t){var e=new FormData;return e.append("files",t),new Promise((function(t,o){le.a.post("/upload",e,{"Content-Type":"multipart/form-data"}).then((function(e){console.log("file upload successfull",e),t(e.data[0])})).catch((function(t){console.log("upload image FAILURE!!"),o("image reject"),console.log(t)}))}))},convertToMarkDown:function(){var t=o("8baf").default,e=new t;this.post.md=e.turndown(this.post.content)},getSelectedOddily:function(){for(var t in console.log("------------------------"),console.log("Oddily:",this.oddily.map((function(t){return t.nazev}))),console.log("selectedIndexes: ",this.post.selectedIndexes),this.post.selectedOddily=[],this.post.selectedIndexes)this.post.selectedOddily.push(this.oddily[this.post.selectedIndexes[t]]);console.log("vybrane oddily = ",this.post.selectedOddily),console.log("------------------------")},getOddily:function(){return this.$store.getters.getOddily},generatePrilohaObj:function(){var t=[];return console.log("this.post.file_IDs",this.post.file_IDs),this.post.file_IDs.forEach((function(e){console.log("_id",e),t.push({_id:e})})),console.log("arrayOfIDs",t),t},generateOddilyObj:function(){var t=[];return this.post.selectedOddily.forEach((function(e){console.log("oddil",e),t.push(e._id)})),console.log("arrayOfOddils",t),t},generateObrazek:function(){return console.log("generating obrazek"),null==this.post.thumbnail?null:{_id:this.post.thumbnail_ID}},setLoading:function(t){this.$store.commit("setLoading",t)},markdownToHTML:function(t){var e=o("0e54");return e(t)}},computed:{getDataObject:function(){var t={nadpis:this.post.nadpis,text:this.post.md,oddils:this.generateOddilyObj(),priloha:this.generatePrilohaObj(),autor:{_id:this.$store.getters.get_id},obrazek:this.generateObrazek()};return t}},created:function(){var t,e=this,o=this.getOddily();this.$route.params.slug&&(this.editView=!0,console.log("getting aktualita with slug",this.$route.params.slug.replace("+","%2B")),t=le.a.get("/aktualitas?slug="+this.$route.params.slug.replace("+","%2B"))),Promise.all([o,t]).then((function(t){e.oddily=t[0];var o=t[1];console.log("post received from axios",o),e.post.nadpis=o.data[0].nadpis,e.post._id=o.data[0]._id,e.post.content=e.markdownToHTML(o.data[0].text),e.post.files=o.data[0].priloha,console.log("files",e.post.files),e.post.file_IDs=e.post.files.map((function(t){return t._id})),e.post.original.files=e.post.files,e.post.thumbnail=o.data[0].obrazek,null!=e.post.thumbnail&&(e.post.thumbnail_ID=o.data[0].obrazek._id,e.post.original.thumbnail=e.post.thumbnail),o.data[0].oddils.forEach((function(t){var o=e.oddily.findIndex((function(e){return e._id==t._id}));console.log("index of selected oddil is",o),e.post.selectedIndexes.push(o)}))}))},watch:{$route:function(t,e){console.log(t,e)}},components:{TiptapVuetify:ba["o"],FilesToDownload:ka,Confirm:Te}},ya=_a,wa=(o("a754"),o("ef9a")),xa=o("23a7"),Ca=Object(f["a"])(ya,ua,va,!1,null,"21319d3a",null),Va=Ca.exports;h()(Ca,{VAlert:k["a"],VBtn:b["a"],VChip:pt["a"],VChipGroup:wa["a"],VContainer:Xt["a"],VDivider:C["a"],VFileInput:xa["a"],VForm:V["a"],VTextField:L["a"]});var Pa=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"py-8",attrs:{"grid-list-xs":""}},[t.editView?o("h1",[t._v("Editovat vedoucí - "+t._s(t.editedPerson.jmeno))]):o("h1",[t._v("Vytvořit nového vedoucího")]),o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[o("v-container",{staticClass:"inputCont"},[o("v-row",[o("v-col",{attrs:{cols:"12",md:"6"}},[o("v-text-field",{attrs:{rules:t.textRules,required:"",label:"Jméno a příjmení"},on:{keyup:function(e){t.editedFlag=!0}},model:{value:t.editedPerson.jmeno,callback:function(e){t.$set(t.editedPerson,"jmeno",e)},expression:"editedPerson.jmeno"}}),o("v-text-field",{attrs:{label:"Přezdívka"},on:{keyup:function(e){t.editedFlag=!0}},model:{value:t.editedPerson.prezdivka,callback:function(e){t.$set(t.editedPerson,"prezdivka",e)},expression:"editedPerson.prezdivka"}}),o("v-text-field",{attrs:{rules:t.textRules,required:"",label:"Funkce"},on:{keyup:function(e){t.editedFlag=!0}},model:{value:t.editedPerson.funkce,callback:function(e){t.$set(t.editedPerson,"funkce",e)},expression:"editedPerson.funkce"}}),o("v-select",{attrs:{items:t.oddily,"item-text":"nazev","item-value":"_id",label:"Oddíl"},model:{value:t.editedPerson.oddil,callback:function(e){t.$set(t.editedPerson,"oddil",e)},expression:"editedPerson.oddil"}}),o("v-row",[o("v-col",{attrs:{cols:"6"}},[o("v-file-input",{attrs:{"show-size":"",accept:"image/*",label:"Fotka"},on:{change:t.photoChanged},model:{value:t.file,callback:function(e){t.file=e},expression:"file"}})],1),o("v-col",{attrs:{cols:"6"}},[o("v-btn",{staticClass:"mt-3 ml-n2",attrs:{color:"error"},on:{click:t.deletePhoto}},[t._v("Smazat fotku")])],1)],1),o("v-textarea",{attrs:{outlined:""},on:{keyup:function(e){t.editedFlag=!0}},scopedSlots:t._u([{key:"label",fn:function(){return[o("div",[t._v("Popis")])]},proxy:!0}]),model:{value:t.editedPerson.popis,callback:function(e){t.$set(t.editedPerson,"popis",e)},expression:"editedPerson.popis"}}),o("v-text-field",{attrs:{label:"Facebook odkaz"},on:{keyup:function(e){t.editedFlag=!0}},model:{value:t.editedPerson.facebook,callback:function(e){t.$set(t.editedPerson,"facebook",e)},expression:"editedPerson.facebook"}}),o("v-text-field",{attrs:{rules:t.telephoneRules,counter:25,label:"Telefon"},on:{keyup:function(e){t.editedFlag=!0}},model:{value:t.editedPerson.telefon,callback:function(e){t.$set(t.editedPerson,"telefon",e)},expression:"editedPerson.telefon"}}),o("v-text-field",{attrs:{rules:t.emailRules,required:"false",counter:40,label:"Email"},on:{keyup:function(e){t.editedFlag=!0}},model:{value:t.editedPerson.email,callback:function(e){t.$set(t.editedPerson,"email",e)},expression:"editedPerson.email"}})],1),o("v-col",{attrs:{cols:"12",md:"6"}},[o("h1",{staticClass:"text-center"},[t._v("Náhled")]),o("PersonCard",{attrs:{fotkaUrl:t.editedPerson.fotka[0]?t.editedPerson.fotka[0].url:"",jmeno:t.editedPerson.jmeno,prezdivka:t.editedPerson.prezdivka?t.editedPerson.prezdivka:"",funkce:t.editedPerson.funkce?t.editedPerson.funkce:"",popis:t.editedPerson.popis?t.editedPerson.popis:"",email:t.editedPerson.email?t.editedPerson.email:"",telefon:t.editedPerson.telefon?t.editedPerson.telefon:"",facebook:t.editedPerson.facebook?t.editedPerson.facebook:"",showPossibleEditBtn:!1,local_img:t.local_img}})],1)],1),o("div",{staticClass:"large-12 medium-12 small-12 cell"}),o("div",{staticClass:"text-center my-12 mx-6"},[o("v-btn",{attrs:{disabled:!t.valid,large:"",width:"200px",dark:t.valid,color:"#174085"},on:{click:t.save}},[t._v("Uložit")])],1)],1)],1)],1)},ja=[],La=(o("7db0"),o("fb6a"),{name:"EditVedouciView",data:function(){return{deleteFromDBOnSave:!1,editView:null,valid:!1,textRules:[function(t){return!!t||"Toto pole je povinné"}],telephoneRules:[function(t){return!t||(9!=t.length?"Telefon mít 9 čísel bez mezer.":!isNaN(t)||"Telefon nesmí obsahovat mezery a znaky")}],emailRules:[function(t){if(!t)return!0;if(t.length>0){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Neplatný e-mail."}}],errors:[],file:null,file_id:null,originalPerson:null,editedPerson:{fotka:[],jmeno:null,prezdivka:null,funkce:null,email:null,telefon:null,facebook:null,oddil:null},local_img:!1,oddily:[],selectedOddilID:null,editedFlag:!1,oddilDiacritics:io.oddilDiacriticsObj}},watch:{$route:function(t,e){console.log(t,e)}},methods:{setLoading:function(t){this.$store.commit("setLoading",t)},deletePhoto:function(){try{this.editedPerson.fotka[0].url==this.originalPerson.fotka[0].url?(this.deleteFromDBOnSave=!0,console.log("will delete photo from database on save"),this.editedPerson.fotka=[],this.local_img=!0):(this.loadOriginalImage(),this.file=null)}catch(t){console.log(t),this.loadOriginalImage()}},deletePhotoFromDB:function(t){le.a.delete("/upload/files/"+t).then((function(t){console.log("the photo was deleted successfully",t)})).catch((function(t){console.log("delete FAIL!!!"),console.log(t)}))},loadOriginalImage:function(){this.editedPerson.fotka=JSON.parse(JSON.stringify(this.originalPerson.fotka)),this.local_img=!1,this.forceShittyUpdate()},photoChanged:function(t){var e=this;if(void 0===t)this.loadOriginalImage();else{console.log("setting new photo");var o=new FileReader;o.addEventListener("load",(function(){e.src=o.result,e.editedPerson.fotka.length<1&&e.editedPerson.fotka.push({}),e.editedPerson.fotka[0].url=e.src,e.local_img=!0,e.editedFlag=!0})),o.readAsDataURL(t)}},forceShittyUpdate:function(){this.editedPerson.jmeno+="_",this.editedPerson.jmeno=this.editedPerson.jmeno.slice(0,-1)},uploadImage:function(){var t=this;console.log("submitting file"),console.log("this.editedPerson.fotka",this.editedPerson.fotka);var e=new FormData;return e.append("files",this.file),0!=this.editedPerson.fotka.length&&this.file?new Promise((function(o,a){le.a.post("/upload",e,{"Content-Type":"multipart/form-data"}).then((function(e){console.log("upload image successfull",e),t.file_id=e.data[0]._id,o(e.data[0])})).catch((function(t){console.log("upload image FAILURE!!"),a("image reject"),console.log(t)}))})):(console.log("no photo to upload"),new Promise((function(t){t("no photo to upload resolve")})))},save:function(){var t=this;this.$refs.form.validate(),this.setLoading(!0),this.uploadImage().then((function(e){console.log("after image was uploaded with response",e);try{t.local_img&&t.originalPerson.fotka[0]&&t.deleteFromDBOnSave&&t.deletePhotoFromDB(t.originalPerson.fotka[0]._id)}catch(o){console.log(o)}t.editView?(console.log("editing vedouci",t.getDataObject),le.a.put("/vedoucis/"+t.originalPerson._id,t.getDataObject).then((function(e){t.editedFlag=!1,console.log("put successfull",e),t.setLoading(!1)})).catch((function(e){console.log("put FAILURE",e),t.setLoading(!1)}))):(console.log("creating vedouci"),le.a.post("/vedoucis",t.getDataObject).then((function(e){t.editedFlag=!1,console.log("post successfull",e),t.setLoading(!1)})).catch((function(e){console.log("post FAILURE",e),t.setLoading(!1)})))}))},getOddily:function(){return this.$store.getters.getOddily}},computed:{getDataObject:function(){var t={jmeno:this.editedPerson.jmeno,prezdivka:this.editedPerson.prezdivka,funkce:this.editedPerson.funkce,email:this.editedPerson.email,popis:this.editedPerson.popis,telefon:this.editedPerson.telefon,facebook:this.editedPerson.facebook,oddil:{_id:this.editedPerson.oddil}};return this.getPhotoObject&&(t.fotka=this.getPhotoObject),console.log("dataObject",t),t},getPhotoObject:function(){return this.file_id?(console.log("returning photo"),[{_id:this.file_id}]):null}},created:function(){var t=this;this.$route.params._id?(this.setLoading(!0),this.getOddily().then((function(e){t.oddily=e})),console.log("editing existing",this.$route.params._id),this.editView=!0,le.a.get("/vedoucis?_id="+this.$route.params._id).then((function(e){t.originalPerson=e.data[0],console.log("original person",t.originalPerson),t.editedPerson=JSON.parse(JSON.stringify(t.originalPerson)),t.originalPerson.fotka[0]&&(t.file_id=t.originalPerson.fotka[0]._id),t.setLoading(!1)})).catch((function(t){console.log("cant load vedouci"),console.log(t)}))):(console.log("creating new"),this.editView=!1,this.originalPerson=null,this.getOddily().then((function(e){t.oddily=e;var o=t.oddily.find((function(e){if(console.log(e.nazev),e.nazev==t.oddilDiacritics[t.$route.params.oddil])return e}));t.editedPerson.oddil=o._id,t.setLoading(!1)})).catch((function(e){console.log(e),t.setLoading(!1)})))},beforeRouteLeave:function(t,e,o){if(this.editedFlag){var a=window.confirm("Opravdu chcete odejít? Veškeré neuložené změny nebudou uloženy.");a?o():o(!1)}else o()},components:{PersonCard:Be}}),Ia=La,za=(o("0286"),o("a844")),Da=Object(f["a"])(Ia,Pa,ja,!1,null,"485f7c68",null),Sa=Da.exports;h()(Da,{VBtn:b["a"],VCol:w["a"],VContainer:Xt["a"],VFileInput:xa["a"],VForm:V["a"],VRow:P["a"],VSelect:Ge["a"],VTextField:L["a"],VTextarea:za["a"]});var Oa=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{attrs:{"grid-list-xs":""}},[t.loadingData?o("v-data-table",{staticClass:"elevation-3",attrs:{"item-key":"name",loading:"","loading-text":"Načítám emaily...",search:t.search,headers:t.headers,items:t.clens,"loader-height":"6","sort-by":"jmeno","hide-default-footer":"","show-select":""},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:"",color:"white"}},[o("v-toolbar-title",[t._v("Emaily pro zasílání příspěvků")]),o("v-spacer"),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Vyhledat","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary"}},"v-btn",i,!1),a),[t._v("Nový člen")])]}}],null,!1,1182021144),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}})],1)]},proxy:!0}],null,!1,916461214)}):o("v-data-table",{staticClass:"elevation-3",attrs:{search:t.search,headers:t.headers,items:t.clens,justify:"space-around","sort-by":"jmeno","hide-default-footer":"","calculate-widths":"","show-select":"","select-c":""},scopedSlots:t._u([{key:"top",fn:function(){return[o("v-toolbar",{attrs:{flat:"",color:"white"}},[o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[o("v-fab-transition",[o("v-btn",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:!t.hiddenDeleteButton,expression:"!hiddenDeleteButton"}],staticClass:"mr-5",attrs:{color:"error",fab:"",dark:""},on:{click:t.deleteSelected}},"v-btn",i,!1),a),[o("v-icon",[t._v("mdi-delete")])],1)],1)]}}])},[o("span",[t._v("Odstranit vybrané položky")])]),o("v-toolbar-title",[t._v("Emaily pro zasílání příspěvků")]),o("v-spacer"),o("v-text-field",{staticClass:"d-none d-md-flex mdAndUp",attrs:{"append-icon":"mdi-magnify",label:"Vyhledat","single-line":"","hide-details":"","single-expand":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),o("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),o("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mb-2 d-none d-md-flex mdAndUp",attrs:{color:"primary",dark:""},on:{click:t.freshNewClen}},"v-btn",i,!1),a),[t._v("Nový člen")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[o("v-card",[o("v-card-title",[o("span",[t._v(t._s(t.formTitle))])]),o("v-card-text",[o("v-container",[o("v-row",[o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Jméno",rules:t.textRules},model:{value:t.editedItem.jmeno,callback:function(e){t.$set(t.editedItem,"jmeno",e)},expression:"editedItem.jmeno"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[o("v-text-field",{attrs:{label:"Přezdívka"},model:{value:t.editedItem.prezdivka,callback:function(e){t.$set(t.editedItem,"prezdivka",e)},expression:"editedItem.prezdivka"}})],1),o("v-col",{attrs:{cols:"12",sm:"6",md:"12"}},[o("v-select",{attrs:{items:t.oddils,rules:t.oddilRules,"item-text":"nazev","item-value":"id",label:"Oddíl","persistent-hint":"","return-object":""},model:{value:t.editedItem.oddil,callback:function(e){t.$set(t.editedItem,"oddil",e)},expression:"editedItem.oddil"}})],1),o("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[t._l(t.getEditableEmails,(function(e,a){return o("v-text-field",{key:a,attrs:{label:"Email "+(a+1),rules:t.emailRules,placeholder:"Zadejte email"},model:{value:t.editedItem.emailsEditable[a].address,callback:function(e){t.$set(t.editedItem.emailsEditable[a],"address",e)},expression:"editedItem.emailsEditable[index].address"}})})),o("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,i=e.attrs;return[o("v-btn",t._g(t._b({staticClass:"mb-5 white--text",attrs:{fab:"",small:"",color:"#174085",disabled:""==t.editedItem.emailsEditable[t.editedItem.emailsEditable.length-1].address},on:{click:function(e){return t.editedItem.emailsEditable.push({address:"",id:""})}}},"v-btn",i,!1),a),[o("v-icon",{attrs:{dark:""}},[t._v("mdi-plus")])],1)]}}])},[o("span",[t._v("Přidat další email")])])],2)],1)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Zrušit")]),o("v-btn",{attrs:{color:"primary",disabled:!t.valid},on:{click:t.save}},[t._v("Uložit")])],1)],1)],1)],1)],1),o("v-container",{staticClass:"d-md-none"},[o("v-btn",{staticClass:"mb-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.freshNewDialog()}}},[t._v("Nový člen")]),o("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Vyhledat","single-line":"","hide-details":"","single-expand":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]},proxy:!0},{key:"item.actions",fn:function(e){var a=e.item;return[o("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v("mdi-pencil")]),o("v-icon",{attrs:{small:""},on:{click:function(e){return t.confirmDeleteItem(a)}}},[t._v("mdi-delete")])]}}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}}),o("Confirm",{ref:"confirm"})],1)},Ea=[],Ta=(o("c975"),o("a15b"),{name:"EmailEdit",data:function(){return{valid:!1,hiddenDeleteButton:!0,selected:[],loadingData:!1,search:"",oddils:[],dialog:!1,headers:[{text:"Jméno",align:"start",value:"jmeno"},{text:"Přezdívka",value:"prezdivka"},{text:"Oddíl",value:"oddil.nazev"},{text:"Odebírané emaily",value:"emails",width:"30"},{text:"Poslední úprava",value:"updatedAt"},{text:"Úpravy",value:"actions",sortable:!1}],clens:[],editedIndex:-1,defaultObjects:{emails:[{email:"",id:""}],emailsEditable:[{address:"",id:""}]},editedItem:{jmeno:"",prezdivka:"",oddil:"",id:"",updatedAt:"",emails:[{email:"",id:""}],emailsEditable:[{address:"",id:""}]},uploadedEmailIDs:[],defaultItem:{jmeno:"",prezdivka:"",oddil:"",id:"",updatedAt:"",emails:[{email:"",id:""}],emailsEditable:[{address:"",id:""}]},oddilRules:[function(t){return!!t.id||"Oddíl je povinný"}],textRules:[function(t){return!!t||"Jméno je povinné"}],emailRules:[function(t){if(console.log("validating email..."),!t)return!0;if(t.length>0){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(t)||"Neplatný e-mail."}}]}},computed:{formTitle:function(){return-1===this.editedIndex?"Nový člen":"Upravit člena"},getEditableEmails:function(){return console.log("editableEmails",this.editedItem.emailsEditable),this.editedItem.emailsEditable},getEmailIDsObject:function(){var t=this.uploadedEmailIDs.map((function(t){return{_id:t}}));return t},getDataObject:function(){var t={jmeno:this.editedItem.jmeno,prezdivka:this.editedItem.prezdivka,emails:this.getEmailIDsObject,oddil:{_id:this.editedItem.oddil.id}};return console.log("dataObject which is being uploaded ",t),t}},watch:{selected:function(){this.selected.length>0?this.hiddenDeleteButton=!1:this.hiddenDeleteButton=!0}},methods:{editItem:function(t){this.editedIndex=this.clens.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},freshNewClen:function(){console.log("creating fresh new clen"),this.defaultItem.emails=[{email:"",id:""}],this.defaultItem.emailsEditable=[{address:"",id:""}],this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},setLoading:function(){this.clens=[],this.loadingData=!0,this.close()},deleteSelected:function(){var t=this;this.$refs.confirm.open("Odstranit vybrané","Opravdu chcete odstranit vybrané kontakty?",{color:"error"}).then((function(e){if(e){console.log("deleting selected files...");var o=[];t.selected.forEach((function(e){o.push(t.deleteItem(e))})),t.setLoading(),Promise.all(o).then((function(){t.selected=[],t.loadData()}))}}))},confirmDeleteItem:function(t){var e=this;console.log("are you ready to delete clen:",t),this.$refs.confirm.open("Odstranit","Opravdu chcete smazat člena "+t.jmeno+"?",{color:"error"}).then((function(o){o&&(e.deleteItem(t).then((function(t){console.log(t),e.loadData()})),e.setLoading())}))},deleteItem:function(t){return new Promise((function(e){console.log(t),console.log("deleting clen ",t);var o=[];t.emailsEditable.forEach((function(t){var e=le.a.delete("/emails/"+t.id).then((function(){console.log("email ",t.address,"was deleted successfully")}));o.push(e)}));var a=le.a.delete("/clens/"+t.id).then((function(){console.log("clen ",t.jmeno,"was deleted successfully")}));o.push(a),Promise.all(o).then((function(){console.log("all correspoding emails deleted succesfully"),e()}))}))},close:function(){console.log("closing dialog window"),this.dialog=!1},createNewEmails:function(){var t=this;return new Promise((function(e){var o=[];t.editedItem.emailsEditable.forEach((function(t){t.address&&o.push(le.a.post("/emails",{address:t.address}))})),Promise.all(o).then((function(o){console.log("all emails uploaded successfully"),t.uploadedEmailIDs=o.map((function(t){return t.data.id})),console.log("this.uploadedEmailIDs inside createNeWEmails",t.uploadedEmailIDs),e()}))}))},createClen:function(){var t=this;console.log("creating new clen: this.editedItem:",this.editedItem),this.createNewEmails().then((function(){console.log("this.getDataObject",t.getDataObject),le.a.post("/clens",t.getDataObject).then((function(e){console.log("uploading clen was successfull",e),t.$store.commit("setSaveSnackbar",!0),t.loadData()}))}))},save:function(){if(this.$refs.form.validate()){if(console.log("saving clen with index ",this.editedIndex),this.editedIndex>-1){var t=this.clens[this.editedIndex],e=[];e.push(this.deleteItem(t)),e.push(this.createClen()),Promise.all(e).then((function(){console.log("old clen was deleted and new one was created successfully...")}))}else this.createClen();this.setLoading()}},loadData:function(){var t=this;this.oddils=[],this.clens=[],this.loadingData=!0,console.log("refreshing database"),le()({url:"/graphql",method:"post",data:{query:"\n          {\n            oddils {\n              id\n              nazev\n            }\n          }"}}).then((function(e){e.data.data.oddils.forEach((function(e){t.oddils.push({nazev:e.nazev,id:e.id})}))})),le()({url:"/graphql",method:"post",data:{query:"\n          {\n            clens {\n              jmeno\n              prezdivka\n              id\n              oddil {\n                id\n                nazev\n              }\n              emails  {\n                address\n                id\n              }\n              updatedAt\n            }\n          }"}}).then((function(e){var o=e.data.data.clens;o.forEach((function(e){var o=new Date(e.updatedAt);t.clens.push({jmeno:e.jmeno,prezdivka:e.prezdivka,oddil:e.oddil,id:e.id,updatedAt:o.toLocaleDateString("cs-CS")+"; "+o.toLocaleTimeString("cs-CS"),emails:e.emails.map((function(t){return t.address})).join("\n"),emailsEditable:e.emails})})),console.log("this.clens",t.clens),t.loadingData=!1})).catch((function(e){console.log("error in getting clens:",e),t.loadingData=!1}))}},created:function(){this.loadData()},components:{Confirm:Te}}),$a=Ta,Aa=o("8fea"),Fa=Object(f["a"])($a,Oa,Ea,!1,null,"5c925dee",null),Na=Fa.exports;h()(Fa,{VBtn:b["a"],VCard:_["a"],VCardActions:y["a"],VCardText:y["c"],VCardTitle:y["d"],VCol:w["a"],VContainer:Xt["a"],VDataTable:Aa["a"],VDialog:x["a"],VDivider:C["a"],VFabTransition:ve["c"],VForm:V["a"],VIcon:Z["a"],VRow:P["a"],VSelect:Ge["a"],VSpacer:j["a"],VTextField:L["a"],VToolbar:I["a"],VToolbarTitle:z["b"],VTooltip:Fe["a"]});var Ba=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t._v("Unsubscribe")])},Ra=[],Ma={name:"Unsubscribe"},Ua=Ma,qa=Object(f["a"])(Ua,Ba,Ra,!1,null,null,null),Ja=qa.exports,Ka=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",{staticClass:"mt-3",attrs:{"grid-list-xs":"","align-center":""}},[o("h1",{staticClass:"mb-0"},[t._v("Registrace pro vedoucí")]),o("v-divider",{staticClass:"mb-5"}),o("p",[t._v("Následující formulář slouží k umožnění přístupu vedoucím pro administraci webu. Registrace slouží "),o("strong",[t._v("pouze pro vedoucí")]),t._v(", nikoliv pro rodiče a členy. Každá registrace je manuálně ověřena správcem webu.")]),o("v-stepper",{model:{value:t.e1,callback:function(e){t.e1=e},expression:"e1"}},[o("v-stepper-header",[o("v-stepper-step",{attrs:{complete:t.e1>1,step:"1"}},[t._v(" Ověření členství ")]),o("v-divider"),o("v-stepper-step",{attrs:{complete:t.e1>2,step:"2"}},[t._v(" Potvrzení vedoucího ")]),o("v-divider"),o("v-stepper-step",{attrs:{complete:t.e1>3,step:"3"}},[t._v(" Registrace ")]),o("v-divider"),o("v-stepper-step",{attrs:{step:"4"}},[t._v(" Dokončení ")])],1),o("v-stepper-items",[o("v-stepper-content",{attrs:{step:"1"}},[o("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-4",elevation:"1"}},[t.isLoggedIn?o("v-container",{attrs:{"grid-list-xs":""}},[o("p",{staticClass:"pa-2"},[t._v("Výborně, tvé členství v oddíle již bylo ověřeno.")]),o("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.e1=2}}},[t._v(" Pokračovat ")])],1):o("v-container",{attrs:{"grid-list-xs":""}},[o("p",{staticClass:"pa-2"},[t._v("Jdeme na to! Nejdříve se prosím přihlas pod přihlašovacími údaji pro členy našich oddílů:")]),o("v-col",{attrs:{align:"center"}},[o("LoginForm",{staticClass:"my-5",attrs:{doNotApplyRedirect:"true"}}),o("v-dialog",{attrs:{width:"500"},model:{value:t.loginDialogLoader,callback:function(e){t.loginDialogLoader=e},expression:"loginDialogLoader"}},[o("LoginLoader")],1)],1)],1)],1)],1),o("v-stepper-content",{attrs:{step:"2"}},[o("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-4",elevation:"1"}},[o("v-container",{attrs:{"grid-list-xs":""}},[o("p",{staticClass:"pa-2"},[t._v("Registrace je určena "),o("strong",[t._v("pouze pro vedoucí")]),t._v(". Jestliže jsi vedoucí, pokračuj dále.")]),o("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.e1=3}}},[t._v(" Ano, jsem vedoucí ")])],1)],1)],1),o("v-stepper-content",{attrs:{step:"3"}},[o("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}}),o("v-btn",{staticClass:"mx-2",attrs:{color:"primary"},on:{click:function(e){t.e1=1}}},[t._v(" Pokračovat ")]),o("v-btn",{staticClass:"mx-2",attrs:{text:""}},[t._v(" Zrušit ")])],1)],1)],1)],1)},Ha=[],Za={name:"Register",components:{LoginForm:S,LoginLoader:N},data:function(){return{e1:1}},computed:{loginDialogLoader:{set:function(){this.$store.dispatch("closeLoginDialog")},get:function(){return this.$store.getters.getLoginDialogLoader}},isLoggedIn:{set:function(){},get:function(){return this.$store.getters.isLoggedIn}}},created:function(){console.log("page loaded")}},Wa=Za,Ga=(o("c083"),o("7e85")),Ya=o("e516"),Qa=o("9c54"),Xa=o("56a4"),ti=Object(f["a"])(Wa,Ka,Ha,!1,null,"15d765a2",null),ei=ti.exports;h()(ti,{VBtn:b["a"],VCard:_["a"],VCol:w["a"],VContainer:Xt["a"],VDialog:x["a"],VDivider:C["a"],VStepper:Ga["a"],VStepperContent:Ya["a"],VStepperHeader:Qa["a"],VStepperItems:Qa["b"],VStepperStep:Xa["a"]});var oi=function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.aktualita?o("v-container",{staticClass:"my-5",attrs:{"grid-list-xs":""}},[o("div",{class:{"ma-0":t.$vuetify.breakpoint.mdAndDown,marginlg:t.$vuetify.breakpoint.lg,marginxl:t.$vuetify.breakpoint.xl}},[o("v-layout",{staticClass:"heading",attrs:{row:"",wrap:"","justify-space-around":""}},[o("v-flex",{attrs:{xs12:"",sm8:"",md9:"",lg10:"",xl10:""}},[o("div",{staticClass:"outer ml-5"},[o("div",[o("h1",[t._v(t._s(t.aktualita.nadpis))]),o("v-divider",{staticClass:"mb-2"}),o("h4",[t._v("Publikováno: "+t._s(t.getCETDate))]),o("h4",[t._v(" Autor: "),o("v-chip",{staticClass:"ml-1 autorChip",attrs:{color:"default","text-color":"#555",small:""}},[o("v-avatar",{attrs:{left:""}},[o("v-icon",[t._v("mdi-account-circle")])],1),t._v(" "+t._s(t.aktualita.autor.jmeno)+" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.aktualita.autor.prezdivka,expression:"aktualita.autor.prezdivka"}],staticClass:"ml-2"},[t._v("("+t._s(t.aktualita.autor.prezdivka)+")")])],1)],1),o("h4",[t._v(" Oddíly: "),t._l(t.aktualita.oddils,(function(e,a){return o("v-chip",{key:a,staticClass:"chip ml-1",attrs:{color:t.colors[e.nazev],dark:"",small:""}},[t._v(t._s(e.nazev))])}))],2)],1)])]),o("v-flex",{attrs:{xs12:"",sm4:"",md3:"",lg2:"",xl2:""}},[t.aktualita.obrazek?o("v-img",{staticClass:"cover",attrs:{src:t.aktualita.obrazek.url}}):t._e()],1)],1),o("div",{staticClass:"pa-5 mt-2 zprava"},[o("div",{domProps:{innerHTML:t._s(t.text)}}),t.aktualita.priloha.length?o("FilesToDownload",{attrs:{priloha:t.aktualita.priloha,showDeleteBtn:!1}}):t._e()],1),t.isContributor?o("v-btn",{staticClass:"px-4 mx-2 my-5 white--text float-right",attrs:{large:"",color:"#174085",to:{name:"EditPost",params:{slug:t.aktualita.slug}}}},[o("v-icon",{staticClass:"mr-1"},[t._v("mdi-pencil")]),t._v("Upravit ")],1):t._e()],1)]):t._e()},ai=[],ii={name:"Post",data:function(){return{colors:io.colors,backendAPI:io.backendAPI,slug:"",aktualita:null,text:""}},methods:{getMinutes:function(t){return(t.createdAtCET.getMinutes()<10?"0":"")+t.createdAtCET.getMinutes()},convertTimeToCET:function(t){t.createdAtCET=new Date(t.createdAt)},convertToHTML:function(t){var e=o("339e"),a=new e.Converter;return a.setOption("simpleLineBreaks",!0),a.makeHtml(t)}},computed:{getCETDate:function(){try{return this.aktualita.createdAtCET.getDate()+". "+this.aktualita.createdAtCET.getMonth()+". "+this.aktualita.createdAtCET.getFullYear()+", "+this.aktualita.createdAtCET.getHours()+":"+this.getMinutes(this.aktualita)}catch(t){return""}},isContributor:function(){return this.$store.getters.isContributor}},created:function(){var t=this;this.slug=this.$route.params.slug.replace("+","%2B"),console.log("getting post with slug = ",this.slug),le.a.get("/aktualitas?slug="+this.slug).then((function(e){t.aktualita=e.data[0],t.convertTimeToCET(t.aktualita),t.text=t.convertToHTML(t.aktualita.text),document.title="Skaut - "+t.aktualita.nadpis,console.log("response post",e)})).catch((function(t){console.log(t)}))},components:{FilesToDownload:ka}},ni=ii,si=(o("0a0b"),Object(f["a"])(ni,oi,ai,!1,null,"4af3ce7e",null)),li=si.exports;h()(si,{VAvatar:mt["a"],VBtn:b["a"],VChip:pt["a"],VContainer:Xt["a"],VDivider:C["a"],VFlex:te["a"],VIcon:Z["a"],VImg:ft["a"],VLayout:ee["a"]}),a["default"].use(rt["a"]);var ri=new rt["a"].Store({state:{backendAPI:"https://skaut.herokuapp.com/",loading:!1,oddily:[],login:{loginDialogForm:!1,loginDialogLoader:!1,jwt:localStorage.getItem("jwt")||null,name:localStorage.getItem("name")||null,prezdivka:localStorage.getItem("prezdivka")||null,roleName:localStorage.getItem("roleName")||null,_id:localStorage.getItem("_id")||null,justLoggedIn:null,wrongPassword:!1,username:null,password:null},adminMenu:{editItems:[{title:"Nástěnka",icon:"mdi-bulletin-board",link:{name:"Noticeboard"}},{title:"Vytvořit příspěvek",icon:"mdi-message-draw",link:{name:"CreatePost"}},{title:"Vytvořit vedoucího",icon:"mdi-clipboard-account",link:{name:"CreateVedouciView"}},{title:"Spravovat emaily",icon:"mdi-email",link:{name:"EmailList"}}]},saveSnackbar:!1},getters:{getOddily:function(t){return console.log("getOddily called, state.oddily",t.oddily),t.oddily.length>0?(console.log("oddily already loaded"),new Promise((function(e){e(t.oddily)}))):new Promise((function(e){le()({url:"/graphql",method:"post",data:{query:"\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\toddils {\n\t\t\t\t\t\t\t\t\t\tnazev,\n\t\t\t\t\t\t\t\t\t\t_id\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t"}}).then((function(o){console.log("graphql oddily result",o),o.data.data.oddils.forEach((function(e){t.oddily.push(e)})),e(t.oddily)})).catch((function(t){console.log(t)}))}))},isLoggedIn:function(t){return null!==t.login.jwt},isLoggedOut:function(t){if(t.login.justLoggedIn)return null===t.login.jwt},getLoading:function(t){return t.loading},getAdminMenu:function(t){return t.adminMenu},getBackendAPI:function(t){return t.backendAPI},getUsername:function(t){return t.login.username},getPassword:function(t){return t.login.password},getJwt:function(t){return t.login.jwt},getName:function(t){return t.login.name},getPrezdivka:function(t){return!(!t.login.prezdivka||"undefined"===t.login.prezdivka)&&t.login.prezdivka},getRoleName:function(t){return t.login.roleName},get_id:function(t){return t.login._id},getWrongPassword:function(t){return t.login.wrongPassword},getJustLoggedIn:function(t){return t.login.justLoggedIn},getLoginDialogForm:function(t){return t.login.loginDialogForm},getLoginDialogLoader:function(t){return t.login.loginDialogLoader},getSaveSnackbar:function(t){return t.saveSnackbar},isContributor:function(t){return"Contributor"==t.login.roleName}},mutations:{resetLoginInfo:function(t){console.log("reseting login info"),t.login.username=null,t.login.password=null,t.login.wrongPassword=!1},setLoading:function(t,e){t.loading=e,console.log("loading = ",t.loading)},setSaveSnackbar:function(t,e){t.saveSnackbar=e,console.log("saveSnackbar = ",t.saveSnackbar)},setLoginDialogForm:function(t,e){t.login.loginDialogForm=e,console.log("loginDialogForm = ",t.login.loginDialogForm)},setLoginDialogLoader:function(t,e){t.login.loginDialogLoader=e,console.log("loginDialogLoader = ",t.login.loginDialogLoader)},setUsername:function(t,e){t.login.username=e},setPassword:function(t,e){t.login.password=e},setWrongPassword:function(t,e){t.login.wrongPassword=e,console.log("wrongPassword = ",t.login.wrongPassword)},setName:function(t,e){t.login.name=e,localStorage.setItem("name",e),console.log("user name = ",t.login.name)},setPrezdivka:function(t,e){t.login.prezdivka=e,localStorage.setItem("prezdivka",e),console.log("user prezdivka = ",t.login.prezdivka)},setRoleName:function(t,e){t.login.roleName=e,localStorage.setItem("roleName",e),console.log("user roleName = ",t.login.roleName)},set_id:function(t,e){t.login._id=e,localStorage.setItem("_id",e),console.log("_id = ",t.login._id)},saveJwt:function(t,e){console.log("I am logged in..."),t.login.justLoggedIn=!0,t.login.jwt=e,localStorage.setItem("jwt",e),le.a.defaults.headers.common["Authorization"]="Bearer "+e},logout:function(t){t.login.jwt&&(t.login.jwt=null,t.login.roleName=null,localStorage.removeItem("jwt"),localStorage.removeItem("name"),localStorage.removeItem("prezdivka"),localStorage.removeItem("roleName"),delete le.a.defaults.headers.common["Authorization"])}},actions:{closeLoginDialog:function(t){console.log("closing dialog"),t.commit("resetLoginInfo"),t.commit("setLoginDialogLoader",!1),t.commit("setLoginDialogForm",!1)},setLoginDialogForm:function(t,e){t.commit("setLoginDialogForm",e)},setLoginDialogLoader:function(t,e){t.commit("setLoginDialogLoader",e)},logout:function(t){console.log("inside actions logout"),t.commit("logout")},setJwt:function(t,e){console.log("setting jwt action"),t.commit("saveJwt",e)},setName:function(t,e){console.log("setting name of user action"),t.commit("setName",e)},setPrezdivka:function(t,e){console.log("setting prezdivka of user action"),t.commit("setPrezdivka",e)},setRoleName:function(t,e){console.log("setting roleName of user action"),t.commit("setRoleName",e)},set_id:function(t,e){t.commit("set_id",e)},login:function(t){return console.log("trying to log in"),t.commit("setLoginDialogLoader",!0),new Promise((function(e,o){le.a.post("/auth/local",{identifier:t.getters.getUsername,password:t.getters.getPassword}).then((function(t){console.log("-----login successfull--------"),200===t.status?e(t):(console.log("rejecting"),o("wrong request"))})).catch((function(t){o(t)}))}))},deleteFile:function(t,e){le.a.delete("/upload/files/"+e).then((function(t){console.log("File was deleted",t)})).catch((function(t){console.log("Failed to delete file with _id",e),console.log(t)}))},deletePost:function(t,e){return new Promise((function(t){le.a.delete("/aktualitas/"+e).then((function(e){console.log("Post was deleted",e),t()})).catch((function(t){console.log("Failed to delete post with _id",e),console.log(t)}))}))}}}),ci=ri;a["default"].use(Bt["a"]);var di=[{path:"/",name:"Home",component:xe,meta:{title:"Skaut Třebíč"}},{path:"/kontakt",name:"KontaktVedouci",component:mo,meta:{title:"Skaut Třebíč - Vedoucí"}},{path:"/kontakt/:oddil",name:"Kontakt",component:mo,meta:{requiresAuth:!0,title:"Skaut Třebíč - Vedoucí oddílů"}},{path:"/unsubscribe/:email",name:"Unsubscribe",component:Ja,meta:{title:"Skaut Třebíč - Zrušit odběr emailů"}},{path:"/fotografie",name:"Photos",component:Ko,meta:{requiresAuth:!0,title:"Skaut Třebíč - Fotografie"}},{path:"/aktuality/:oddil?",name:"Aktuality",component:Bo,meta:{requiresAuth:!0,title:"Skaut Třebíč - Aktuality"}},{path:"/aktuality/post/:slug?",name:"Post",component:li,meta:{requiresAuth:!0,title:"Skaut Třebíč - Aktuality"}},{path:"/login",name:"Login",component:Qo,meta:{requiresVisitor:!0,title:"Skaut Třebíč - Přihlásit se"}},{path:"/edit/noticeboard",name:"Noticeboard",component:da,meta:{requiresContributor:!0,title:"Skaut Třebíč - Nástěnka"}},{path:"/edit/emaily",name:"EmailList",component:Na,meta:{requiresContributor:!0,title:"Skaut Třebíč - Emaily"}},{path:"/edit/vytvorit-prispevek",name:"CreatePost",component:Va,meta:{requiresContributor:!0,title:"Skaut Třebíč - Vytvořit příspěvek"}},{path:"/edit/editovat-prispevek/:slug",name:"EditPost",component:Va,meta:{requiresContributor:!0,title:"Skaut Třebíč Edit - Editovat příspěvek"}},{path:"/Edit/editovat-vedouci/:_id",name:"EditVedouciView",component:Sa,meta:{requiresContributor:!0,title:"Skaut Třebíč - Editovat vedoucího"}},{path:"/edit/vytvorit-vedouci/:oddil?",name:"CreateVedouciView",component:Sa,meta:{requiresContributor:!0,title:"Skaut Třebíč - Vytvořit vedoucího"}},{path:"/registrace",name:"Register",component:ei,meta:{title:"Skaut Třebíč - Registrace"}},{path:"*",component:bo,meta:{title:"Skaut Třebíč - Stránka neexistuje"}},{path:"/edit",redirect:"/edit/noticeboard"}],ui=new Bt["a"]({mode:"history",scrollBehavior:function(){return{x:0,y:0}},routes:di});ui.beforeEach((function(t,e,o){document.title=t.meta.title,t.matched.some((function(t){return t.meta.requiresContributor}))?ci.getters.isContributor?o():o({name:"Home"}):t.matched.some((function(t){return t.meta.requiresAuth}))?ci.getters.isLoggedIn?o():o({name:"Login",query:{redirect:t.fullPath}}):t.matched.some((function(t){return t.meta.requiresVisitor}))&&ci.getters.isLoggedIn?o({name:"Aktuality"}):o()}));var vi=ui,mi=o("ce5b"),pi=o.n(mi),fi=(o("b404"),o("466d"),o("a925"));function gi(){var t=o("49f8"),e={};return t.keys().forEach((function(o){var a=o.match(/([A-Za-z0-9-_]+)\./i);if(a&&a.length>1){var i=a[1];e[i]=t(o)}})),e}a["default"].use(fi["a"]);var hi=new fi["a"]({locale:"cs",fallbackLocale:"cs",messages:gi()}),ki=o("5025"),bi=o.n(ki);o("66c6"),le.a.defaults.baseURL=ci.getters.getBackendAPI,ci.getters.getJwt?le.a.defaults.headers.common["Authorization"]="Bearer "+ci.getters.getJwt:delete le.a.defaults.headers.common["Authorization"];var _i=new pi.a({lang:{current:"cs",locales:bi.a}});a["default"].use(pi.a),a["default"].use(ba["p"],{vuetify:_i,iconsGroup:"mdi"}),a["default"].config.productionTip=!1,new a["default"]({router:vi,vuetify:_i,store:ci,i18n:hi,render:function(t){return t(Nt)}}).$mount("#app")},"5a99":function(t,e,o){},"5fbe":function(t,e,o){},"66c6":function(t,e){},"68dd":function(t,e,o){},"704b":function(t,e,o){},"721b":function(t,e,o){},"743e":function(t,e,o){},"76e2":function(t,e,o){"use strict";var a=o("3493"),i=o.n(a);i.a},"7cf4":function(t,e,o){},8276:function(t,e,o){"use strict";var a=o("7cf4"),i=o.n(a);i.a},"85ec":function(t,e,o){},"8fdb":function(t,e,o){"use strict";var a=o("d149"),i=o.n(a);i.a},"91be":function(t,e,o){"use strict";var a=o("a0e3"),i=o.n(a);i.a},"94eb":function(t,e,o){},"9c11":function(t,e,o){"use strict";var a=o("d466"),i=o.n(a);i.a},"9e7f":function(t,e,o){},a0e3:function(t,e,o){},a754:function(t,e,o){"use strict";var a=o("0665"),i=o.n(a);i.a},a843:function(t,e,o){},aecf:function(t,e,o){"use strict";var a=o("5a99"),i=o.n(a);i.a},af9a:function(t,e,o){},b18c:function(t,e,o){"use strict";var a=o("704b"),i=o.n(a);i.a},b4f9:function(t,e,o){"use strict";var a=o("9e7f"),i=o.n(a);i.a},b8af:function(t,e,o){"use strict";var a=o("af9a"),i=o.n(a);i.a},bf87:function(t,e,o){"use strict";var a=o("68dd"),i=o.n(a);i.a},c083:function(t,e,o){"use strict";var a=o("d3a6"),i=o.n(a);i.a},c686:function(t){t.exports=JSON.parse('{"message":"hello i18n !!"}')},d149:function(t,e,o){},d3a6:function(t,e,o){},d466:function(t,e,o){},e3ef:function(t,e,o){"use strict";var a=o("5fbe"),i=o.n(a);i.a},e5a1:function(t,e,o){},ec87:function(t,e,o){},f09b:function(t,e,o){},f10e:function(t,e,o){},f4ee:function(t,e,o){"use strict";var a=o("743e"),i=o.n(a);i.a},f85f:function(t,e,o){},f960:function(t,e,o){"use strict";var a=o("a843"),i=o.n(a);i.a},ff8a:function(t,e,o){"use strict";var a=o("f85f"),i=o.n(a);i.a}});
//# sourceMappingURL=app.2c3eb105.js.map