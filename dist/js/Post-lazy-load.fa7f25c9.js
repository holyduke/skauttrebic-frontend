(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Post-lazy-load"],{1598:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("v-divider",{staticClass:"mb-5"}),e("strong",[t._v("Soubory ke stažení:")]),t._l(t.priloha,(function(a,i){return e("div",{key:i,staticClass:"downloadItem py-1 my-3"},[t._v(" "+t._s(a.name)+" "),e("span",{staticClass:"size"},[t._v("— "+t._s(t.printFileSize(a.size)))]),e("v-btn",{staticClass:"ml-3",attrs:{dark:"",color:"#f6a800",small:"",href:a.url}},[e("v-icon",[t._v("mdi-download")]),t._v("Stáhnout ")],1),t.showDeleteBtn?e("v-btn",{staticClass:"ml-3",attrs:{dark:"",color:"error",small:""},on:{click:function(e){return t.deleteFile(a._id)}}},[e("v-icon",[t._v("mdi-delete")]),t._v("Smazat ")],1):t._e()],1)})),e("Confirm",{ref:"confirm"})],2)},s=[],o=(e("c740"),e("a434"),e("bc3a")),n=e.n(o),r=e("9420"),l={name:"FilesToDownload",data:function(){return{}},methods:{printFileSize:function(t){if(t){t<1e3&&(t*=1e3);var a=t<1e6?"kB":"MB";return t=t>1e6?Math.ceil(t/1e6):Math.ceil(t/1e3),t+" "+a}return""},deleteFile:function(t){var a=this;console.log("trying to delete file",t),this.$refs.confirm.open("Odstranit","Opravdu chcete tento soubor smazat? Soubor bude trvale vymazán.",{color:"error"}).then((function(e){e&&n.a.delete("/upload/files/"+t).then((function(e){console.log("the file was deleted successfully",e);var i=a.priloha.findIndex((function(a){return a._id==t}));a.priloha.splice(i,1)})).catch((function(t){console.log("FAIL! File was not deleted..."),console.log(t)}))}))}},props:["priloha","showDeleteBtn"],components:{Confirm:r["a"]}},c=l,u=e("2877"),d=e("6544"),v=e.n(d),m=e("8336"),h=e("ce7e"),k=e("132d"),p=Object(u["a"])(c,i,s,!1,null,"55c21d3b",null);a["a"]=p.exports;v()(p,{VBtn:m["a"],VDivider:h["a"],VIcon:k["a"]})},"37d3":function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return t.aktualita?e("v-container",{staticClass:"my-5",attrs:{"grid-list-xs":""}},[t.loading?e("div",{staticClass:"text-center"},[e("v-progress-circular",{attrs:{size:100,width:10,color:"primary",indeterminate:""}})],1):e("div",{class:{"ma-0":t.$vuetify.breakpoint.mdAndDown,marginlg:t.$vuetify.breakpoint.lg,marginxl:t.$vuetify.breakpoint.xl}},[e("v-layout",{staticClass:"heading",attrs:{row:"",wrap:"","justify-space-around":""}},[e("v-flex",{attrs:{xs12:"",sm8:"",md9:"",lg10:"",xl10:""}},[e("div",{staticClass:"outer ml-5"},[e("div",[e("h1",[t._v(t._s(t.aktualita.nadpis))]),e("v-divider",{staticClass:"mb-2"}),e("h4",[t._v("Publikováno: "+t._s(t.getCETDate))]),e("h4",[t._v(" Autor: "),e("v-chip",{staticClass:"ml-1 autorChip",attrs:{color:"default","text-color":"#555",small:""}},[e("v-avatar",{attrs:{left:""}},[e("v-icon",[t._v("mdi-account-circle")])],1),t._v(" "+t._s(t.aktualita.autor.jmeno)+" "),e("span",{directives:[{name:"show",rawName:"v-show",value:t.aktualita.autor.prezdivka,expression:"aktualita.autor.prezdivka"}],staticClass:"ml-2"},[t._v("("+t._s(t.aktualita.autor.prezdivka)+")")])],1)],1),e("h4",[t._v(" Oddíly: "),t._l(t.aktualita.oddils,(function(a,i){return e("v-chip",{key:i,staticClass:"chip ml-1",attrs:{color:t.colors[a.nazev],dark:"",small:""}},[t._v(t._s(a.nazev))])}))],2)],1)])]),e("v-flex",{attrs:{xs12:"",sm4:"",md3:"",lg2:"",xl2:""}},[t.aktualita.obrazek?e("v-img",{staticClass:"cover",attrs:{src:t.aktualita.obrazek.url}}):t._e()],1)],1),e("div",{staticClass:"pa-5 mt-2 zprava"},[e("div",{domProps:{innerHTML:t._s(t.aktualita.text)}}),t.aktualita.priloha.length?e("FilesToDownload",{attrs:{priloha:t.aktualita.priloha,showDeleteBtn:!1}}):t._e()],1),t.isContributor?e("v-btn",{staticClass:"px-4 mx-2 my-5 white--text float-right",attrs:{large:"",color:"#174085",to:{name:"EditPost",params:{_id:t.aktualita._id}}}},[e("v-icon",{staticClass:"mr-1"},[t._v("mdi-pencil")]),t._v("Upravit ")],1):t._e()],1)]):t._e()},s=[],o=e("bc3a"),n=e.n(o),r=e("5fb0"),l=e("1598"),c={name:"Post",data:function(){return{loading:!1,colors:r["a"].colors,backendAPI:r["a"].backendAPI,aktualita:null,text:""}},methods:{getMinutes:function(t){return(t.createdAtCET.getMinutes()<10?"0":"")+t.createdAtCET.getMinutes()},convertTimeToCET:function(t){t.createdAtCET=new Date(t.createdAt)}},computed:{getCETDate:function(){try{return this.aktualita.createdAtCET.getDate()+". "+this.aktualita.createdAtCET.getMonth()+". "+this.aktualita.createdAtCET.getFullYear()+", "+this.aktualita.createdAtCET.getHours()+":"+this.getMinutes(this.aktualita)}catch(t){return""}},isContributor:function(){return this.$store.getters.isContributor}},created:function(){var t=this;this.loading=!0,console.log("getting post with _id = "+this.$route.params._id),n.a.get("/aktualitas/"+this.$route.params._id).then((function(a){console.log("received aktualita...",a),t.aktualita=a.data,t.convertTimeToCET(t.aktualita),document.title="Skaut - "+t.aktualita.nadpis,console.log("response post",a),t.loading=!1})).catch((function(a){console.log(a),t.loading=!1}))},components:{FilesToDownload:l["a"]}},u=c,d=(e("a529"),e("2877")),v=e("6544"),m=e.n(v),h=e("8212"),k=e("8336"),p=e("cc20"),f=e("a523"),g=e("ce7e"),_=e("0e8f"),b=e("132d"),C=e("adda"),y=e("a722"),w=e("490a"),x=Object(d["a"])(u,i,s,!1,null,"2e54244e",null);a["default"]=x.exports;m()(x,{VAvatar:h["a"],VBtn:k["a"],VChip:p["a"],VContainer:f["a"],VDivider:g["a"],VFlex:_["a"],VIcon:b["a"],VImg:C["a"],VLayout:y["a"],VProgressCircular:w["a"]})},"41d2":function(t,a,e){},"5fb0":function(t,a,e){"use strict";var i=["skauti","skautky","vlcata","svetlusky","roveri","oldskauti"],s={skauti:"skauti",skautky:"skautky",vlcata:"vlčata",svetlusky:"světlušky",roveri:"roveři",oldskauti:"oldskauti"},o={skauti:"#5b4db7",skautky:"#58b220","vlčata":"#f47c1f","světlušky":"#d3c900","roveři":"#d12121",oldskauti:"#42adc7"};a["a"]={oddilsUrlNames:i,oddilDiacriticsObj:s,colors:o}},9420:function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("v-dialog",{style:{zIndex:t.options.zIndex},attrs:{"max-width":t.options.width},on:{keydown:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"esc",27,a.key,["Esc","Escape"])?null:t.cancel(a)}},model:{value:t.dialog,callback:function(a){t.dialog=a},expression:"dialog"}},[e("v-card",[e("v-toolbar",{attrs:{dark:"",color:t.options.color,dense:"",flat:""}},[e("v-toolbar-title",{staticClass:"white--text"},[t._v(t._s(t.title))])],1),e("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!t.message,expression:"!!message"}],staticClass:"pa-4"},[t._v(t._s(t.message))]),e("v-card-actions",{staticClass:"pt-0"},[e("v-spacer"),e("v-btn",{attrs:{color:"primary darken-1",text:""},nativeOn:{click:function(a){return t.agree(a)}}},[t._v("Ano")]),e("v-btn",{attrs:{color:"grey",text:""},nativeOn:{click:function(a){return t.cancel(a)}}},[t._v("Zrušit")])],1)],1)],1)},s=[],o=(e("d3b7"),{data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"primary",width:290,zIndex:200}}},methods:{open:function(t,a,e){var i=this;return this.dialog=!0,this.title=t,this.message=a,this.options=Object.assign(this.options,e),new Promise((function(t,a){i.resolve=t,i.reject=a}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}}),n=o,r=e("2877"),l=e("6544"),c=e.n(l),u=e("8336"),d=e("b0af"),v=e("99d9"),m=e("169a"),h=e("2fa4"),k=e("71d9"),p=e("2a7f"),f=Object(r["a"])(n,i,s,!1,null,null,null);a["a"]=f.exports;c()(f,{VBtn:u["a"],VCard:d["a"],VCardActions:v["a"],VCardText:v["c"],VDialog:m["a"],VSpacer:h["a"],VToolbar:k["a"],VToolbarTitle:p["b"]})},a529:function(t,a,e){"use strict";var i=e("41d2"),s=e.n(i);s.a}}]);
//# sourceMappingURL=Post-lazy-load.fa7f25c9.js.map